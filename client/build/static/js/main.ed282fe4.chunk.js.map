{"version":3,"sources":["api/ProductsAPI.js","api/UserAPI.js","api/CategoriesAPI.js","GlobalState.js","components/Header/styles.js","components/Header/icon/shopping-cart-solid.svg","components/Header/icon/Menu.svg","components/Header/icon/close.svg","components/Header/Header.js","components/mainPages/utilts/loading/loading.js","components/mainPages/products/ProductItem/styles.js","components/mainPages/products/ProductItem/btnRender.js","components/mainPages/products/ProductItem/ProductItem.js","components/mainPages/products/Products.js","components/mainPages/products/detailProduct/styles.js","components/mainPages/products/detailProduct/DetailProduct.js","components/mainPages/auth/loginStyles.js","components/mainPages/auth/Login.js","components/mainPages/auth/Register.js","components/mainPages/cart/styles.js","components/mainPages/cart/PaypalButton.js","components/mainPages/cart/Cart.js","components/mainPages/utilts/not_found/NotFound.js","components/mainPages/history/styles.js","components/mainPages/history/OrderHistory.js","components/mainPages/categories/styles.js","components/mainPages/categories/Categories.js","components/mainPages/createProduct/CreateProduct.js","components/mainPages/Page.js","components/Footer/Footer.js","App.js","index.js"],"names":["ProductsAPI","useState","products","setProducts","callback","setCallback","getProducts","a","axios","get","res","data","product","useEffect","UserAPI","token","isLogged","setisLogged","isAdmin","setisAdmin","cart","setCart","history","setHistory","addCart","alert","every","item","_id","quantity","Axios","patch","headers","Authorization","getUser","role","message","getHistory","CategoriesAPI","categories","setCategories","getCategories","GlobalState","createContext","DataProvider","children","setToken","refreshToken","accesstoken","setTimeout","localStorage","getItem","state","productsAPI","userAPI","categoriesAPI","Provider","value","makeStyles","theme","container","padding","minHeight","width","overflow","display","flexWrap","justifyContent","alignItems","borderBottom","backgroundColor","position","top","color","zIndex","logo","marginLeft","flex","textTransform","menu","navbarItem","navbarItem_item","opacity","cart_icon","marginRight","cart_icon_span","background","borderRadius","right","fontSize","Header","classes","useStyles","useContext","logoutUser","removeItem","window","location","href","className","to","onClick","length","src","Cart","alt","Loading","product_card","maxWidth","minWidth","height","boxShadow","margin","image","objectFit","product_infor","textOverflow","whiteSpace","cursor","webkitBoxOrient","webkitLineClamp","row_btn","marginTop","fontWeight","letterSpacing","BtnRender","deleteProduct","id","images","public_id","ProductItem","url","title","price","description","Products","setLoading","destroyImg","post","delete","response","msg","map","Container","border","box_detail","borderTop","lineHeight","row","marginBottom","gridTemplateColumns","justifyItems","fullImage","CartItem","transform","amount","total","DetailProduct","params","useParams","detailProduct","setdetailProduct","console","log","forEach","product_id","content","sold","category","loginPage","backgroundImage","outline","Login","email","password","user","setUser","onChangeInput","e","target","name","loginSubmit","preventDefault","setItem","onSubmit","class","type","required","placeholder","onChange","autoComplete","Register","registerSubmit","maxheight","paddingLeft","PaypalButton","this","props","env","client","sandbox","production","currency","onError","err","onSuccess","payment","tranSuccess","onCancel","style","size","shape","label","tagline","React","Component","setTotal","reduce","prev","getTotal","textAlign","addToCart","paymentID","address","confirm","index","splice","NotFound","history_page","overflowX","borderCollapse","OrderHistory","items","Date","createdAt","toLocaleDateString","Categories","setCategory","onEdit","setOnEdit","setID","createCategory","put","editCategory","deleteCategory","htmlFor","col","initialState","CreateProduct","setProduct","setImages","loading","useHistory","param","handleUpload","file","files","formData","FormData","append","handleDestroy","handleChangeInput","handleSubmit","push","styleUpload","disabled","rows","Page","path","exact","component","Footer","App","ReactDOM","render","document","getElementById"],"mappings":"+NAyBeA,MArBf,WAEI,MAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAgCF,oBAAS,GAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KAEMC,EAAW,uCAAG,4BAAAC,EAAA,sEACEC,IAAMC,IAAI,iBADZ,OACVC,EADU,OAEhBP,EAAYO,EAAIC,KAAKC,SAFL,2CAAH,qDASjB,OAHAC,qBAAU,WACNP,MACF,CAACF,IACI,CACHF,SAAS,CAACA,EAAUC,GACpBC,SAAU,CAACA,EAAUC,K,eCkEdS,MAnFf,SAAiBC,GACb,MAAgCd,oBAAS,GAAzC,mBAAOe,EAAP,KAAiBC,EAAjB,KACA,EAA8BhB,oBAAS,GAAvC,mBAAOiB,EAAP,KAAgBC,EAAhB,KACA,EAAwBlB,mBAAS,IAAjC,mBAAOmB,EAAP,KAAaC,EAAb,KACA,EAA8BpB,mBAAS,IAAvC,mBAAOqB,EAAP,KAAgBC,EAAhB,KAKMC,EAAO,uCAAG,WAAOZ,GAAP,SAAAL,EAAA,yDACRS,EADQ,yCACSS,MAAM,oCADf,WAGEL,EAAKM,OAAM,SAAAC,GACrB,OAAOA,EAAKC,MAAQhB,EAAQgB,OAJpB,uBAQRP,EAAQ,GAAD,mBAAKD,GAAL,aAAC,eAAcR,GAAf,IAAwBiB,SAAU,OARjC,SAUFC,IAAMC,MAAM,gBAAiB,CAACX,KAAK,GAAD,mBAAMA,GAAN,4BAAgBR,GAAhB,IAAyBiB,SAAU,OAAM,CAC7EG,QAAS,CAACC,cAAelB,KAXrB,8BAeRU,MAAM,wCAfE,4CAAH,sDAiEb,OA7CAZ,qBAAU,WACN,GAAGE,EAAM,CACL,IAAMmB,EAAO,uCAAG,4BAAA3B,EAAA,+EAGUuB,IAAMrB,IAAI,cAAe,CACvCuB,QAAS,CAACC,cAAelB,KAJrB,OAGFL,EAHE,OAQRO,GAAY,GACZI,EAAQX,EAAIC,KAAKS,MACC,IAAlBV,EAAIC,KAAKwB,KAAahB,GAAW,GAAQA,GAAW,GAV5C,gDAYRM,MAAM,KAAIW,SAZF,yDAAH,qDAgBbF,OAGN,CAACnB,IAEHF,qBAAU,WACN,GAAGE,EAAM,CACL,IAAMsB,EAAU,uCAAG,8BAAA9B,EAAA,0DACZW,EADY,gCAEOY,IAAMrB,IAAI,eAAe,CACvCuB,QAAQ,CAACC,cAAelB,KAHjB,OAELL,EAFK,OAKXa,EAAWb,EAAIC,MALJ,uCAOOmB,IAAMrB,IAAI,gBAAgB,CACxCuB,QAAS,CAACC,cAAelB,KARlB,OAOLL,EAPK,OAUXa,EAAWb,EAAIC,MAVJ,4CAAH,qDAehB0B,OAGN,CAACtB,IAEI,CACHC,SAAU,CAACA,EAAUC,GACrBC,QAAS,CAACA,EAASC,GACnBC,KAAM,CAACA,EAAMC,GACbG,QAASA,EACTF,QAAS,CAACA,EAASC,KC5DZe,MAnBf,WACI,MAAoCrC,mBAAS,IAA7C,mBAAOsC,EAAP,KAAmBC,EAAnB,KACA,EAAgCvC,oBAAS,GAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KAWA,OATAQ,qBAAU,WACN,IAAM4B,EAAa,uCAAG,4BAAAlC,EAAA,sEACAuB,IAAMrB,IAAI,iBADV,OACZC,EADY,OAElB8B,EAAc9B,EAAIC,MAFA,2CAAH,qDAMnB8B,MACF,IACK,CACHF,WAAY,CAACA,EAAYC,GACzBpC,SAAU,CAACA,EAAUC,K,OCZhBqC,EAAcC,0BAEdC,EAAe,SAAC,GAAc,IAAbC,EAAY,EAAZA,SAG1B,EAA0B5C,oBAAS,GAAnC,mBAAOc,EAAP,KAAc+B,EAAd,KAEMC,EAAY,uCAAG,4BAAAxC,EAAA,sEACCuB,IAAMrB,IAAI,uBADX,OACXC,EADW,OAEjBoC,EAASpC,EAAIC,KAAKqC,aAClBC,YAAW,WACPF,MACD,KALc,2CAAH,qDASlBlC,qBAAU,WACcqC,aAAaC,QAAQ,eAGzCJ,MAEF,IAGF,IAAMK,EAAQ,CACVrC,MAAO,CAACA,EAAO+B,GACfO,YAAarD,IACbsD,QAASxC,EAAQC,GACjBwC,cAAejB,KAEnB,OACI,cAACI,EAAYc,SAAb,CAAsBC,MAAOL,EAA7B,SACKP,K,QCrCEa,eAAW,SAACC,GAAD,MAAY,CAClCC,UAAU,CACNC,QAAS,SACTC,UAAW,OACXC,MAAM,OACNC,SAAU,SACVC,QAAQ,OACRC,SAAS,OACTC,eAAgB,eAChBC,WAAW,SACXC,aAAa,iBACbC,gBAAgB,QAEhBC,SAAU,SACVC,IAAK,EACLC,MAAM,QACNC,OAAQ,GAEZC,KAAK,CACDC,WAAY,OACZC,KAAM,EACNC,cAAe,YACfL,MAAO,SAEXM,KAAK,CACDN,MAAO,mBAEXO,WAAW,CACPf,QAAQ,OACRG,WAAW,UAGfa,gBAAgB,CACZC,QAAQ,GACRrB,QAAS,SACT,UAAU,CACNqB,QAAS,IAGjBC,UAAU,CACNZ,SAAW,WACXa,YAAa,QAEjBC,eAAe,CACXC,WAAW,UACXC,aAAc,OACdd,MAAO,QACPF,SAAU,WACVC,IAAK,QACLgB,MAAM,QACN3B,QAAS,WACT4B,SAAU,YCrDH,GCAA,IDAA,IAA0B,iDEA1B,ICgFAC,MArEf,WACI,IAAMC,EAAUC,IACVxC,EAAQyC,qBAAWnD,GAClB1B,EAAP,YAAmBoC,EAAME,QAAQtC,SAAjC,MACOE,EAAP,YAAkBkC,EAAME,QAAQpC,QAAhC,MACOE,EAAP,YAAegC,EAAME,QAAQlC,KAA7B,MAEM0E,EAAU,uCAAG,sBAAAvF,EAAA,sEACTuB,IAAMrB,IAAI,gBADD,OAGfyC,aAAa6C,WAAW,cAExBC,OAAOC,SAASC,KAAO,IALR,2CAAH,qDA8BhB,OACI,yBAAQC,UAAWR,EAAQ/B,UAA3B,UAEI,qBAAKuC,UAAaR,EAAQhB,KAA1B,SACA,6BACQ,cAAC,IAAD,CAAMyB,GAAG,IAAT,SAAclF,EAAU,QAAH,qBAG7B,qBAAIiF,UAAaR,EAAQX,WAAzB,UACI,oBAAImB,UAAaR,EAAQV,gBAAzB,SAA0C,cAAC,IAAD,CAAMmB,GAAG,IAAT,SAAclF,EAAS,UAAW,WAE3EA,GA/BL,qCACI,oBAAIiF,UAAWR,EAAQV,gBAAvB,SAAwC,cAAC,IAAD,CAAMmB,GAAG,kBAAT,8BACxC,oBAAID,UAAWR,EAAQV,gBAAvB,SAAwC,cAAC,IAAD,CAAMmB,GAAG,YAAT,6BAgCpCpF,EAxBR,qCACI,oBAAImF,UAAWR,EAAQV,gBAAvB,SAAwC,cAAC,IAAD,CAAMmB,GAAG,WAAT,uBACxC,oBAAID,UAAWR,EAAQV,gBAAvB,SAAwC,cAAC,IAAD,CAAMmB,GAAG,IAAIC,QAASP,EAAtB,yBAsBR,oBAAIK,UAAaR,EAAQV,gBAAzB,SAA0C,cAAC,IAAD,CAAMmB,GAAG,SAAT,iCAKtElF,EAAS,GACT,sBAAKiF,UAAaR,EAAQR,UAAWV,MAAQ,OAA7C,UACI,sBAAM0B,UAAaR,EAAQN,eAA3B,SAA4CjE,EAAKkF,SACjD,cAAC,IAAD,CAAMF,GAAK,QAAX,SACI,qBAAKG,IAAOC,EAAMC,IAAI,mBAAW1C,MAAQ,KAAKU,MAAQ,kB,OCzCnEiC,MA1Bf,WAEI,OACI,qBAAKP,UAAY,YAAjB,SACA,qBAAKA,UAAU,SAAf,SAEI,8BACI,8BACI,8BACI,8BACI,8BACI,8BACI,8BACI,2CCfzBzC,eAAW,SAACC,GAAD,MAAY,CAClCgD,aAAa,CACTC,SAAU,QACVC,SAAU,QACV7C,SAAS,SACT8C,OAAO,QACPjD,QAAQ,OACRkD,UAAU,gBACVC,OAAO,SACPzC,SAAS,YAGb0C,MAAM,CAEFD,OAAQ,OACRJ,SAAS,QACTE,OAAO,QACP7C,QAAQ,QACRiD,UAAU,SAIdC,cAAc,CACV,SAAS,CACL1C,MAAO,OAEX,OAAO,CACHV,MAAM,OACNqD,aAAa,WACbpD,SAAS,SACTqD,WAAW,SACXvC,cAAc,aACdwC,OAAQ,UACR7C,MAAO,QAEX,MAAM,CACFV,MAAO,OACPE,QAAS,cACTsD,gBAAiB,WACjBC,gBAAiB,EACjBV,OAAQ,OACR9C,SAAU,SACVS,MAAO,YAGfgD,QAAQ,CACJ1D,MAAM,OACN2D,UAAU,OACVzD,QAAS,OACTE,eAAe,gBACfG,gBAAiB,OACjB,MAAM,CACFP,MAAO,MACPe,cAAe,YACfL,MAAO,QACPkD,WAAY,IACZC,cAAe,MACf/D,QAAS,OAEb,aAAa,CACTyB,WAAY,OACZF,YAAY,OAEhB,eAAe,CACXE,WAAY,OACZV,WAAW,YC9BRiD,EA/BG,SAAC,GAA8B,IAA7BjH,EAA4B,EAA5BA,QAASkH,EAAmB,EAAnBA,cACnBnC,EAAUC,IACVxC,EAAQyC,qBAAWnD,GAClBxB,EAAP,YAAgBkC,EAAME,QAAQpC,QAA9B,MACMM,EAAU4B,EAAME,QAAQ9B,QAC9B,OACI,8BAEIN,EACA,mCACA,sBAAKiF,UAAWR,EAAQ8B,QAAxB,UACA,cAAC,IAAD,CAAMM,GAAG,UAAU3B,GAAG,KACdC,QAAS,kBAAKyB,EAAclH,EAAQgB,IAAKhB,EAAQoH,OAAOC,YADhE,oBAII,cAAC,IAAD,CAAMF,GAAG,WAAW3B,GAAE,wBAAmBxF,EAAQgB,KAAjD,uBAIJ,sBAAKuE,UAAWR,EAAQ8B,QAAxB,UACI,cAAC,IAAD,CAAMM,GAAG,UAAU3B,GAAG,KAAKC,QAAS,kBAAI7E,EAAQZ,IAAhD,iBACA,cAAC,IAAD,CAAMmH,GAAG,WAAW3B,GAAE,kBAAaxF,EAAQgB,KAA3C,wBCGDsG,MAvBf,YAAyD,IAAnCtH,EAAkC,EAAlCA,QAAkBkH,GAAgB,EAAzB5G,QAAyB,EAAhB4G,eAI9BnC,EAAUC,IAChB,OAEI,sBAAKO,UAAaR,EAAQgB,aAA1B,UAEI,qBAAKR,UAAaR,EAAQsB,MAAOV,IAAK3F,EAAQoH,OAAOG,IAAK1B,IAAI,KAC9D,sBAAKN,UAAWR,EAAQwB,cAAxB,UACI,oBAAKiB,MAAOxH,EAAQwH,MAApB,SAA6BxH,EAAQwH,QACrC,iCAAOxH,EAAQyH,MAAf,UACA,4BAAIzH,EAAQ0H,iBAGhB,cAAC,EAAD,CAAW1H,QAAWA,EAASkH,cAAeA,QC+B3CS,MA7Cf,WAEI,IAAMnF,EAAQyC,qBAAWnD,GAClBxC,EAAP,YAAkBkD,EAAMC,YAAYnD,SAApC,MACOgB,EAAP,YAAgBkC,EAAME,QAAQpC,QAA9B,MACOH,EAAP,YAAgBqC,EAAMrC,MAAtB,MACA,cAAgCqC,EAAMC,YAAYjD,SAAlD,GAAOA,EAAP,KAAiBC,EAAjB,KACA,EAA8BJ,oBAAS,GAAvC,mBAAgBuI,GAAhB,WAEMV,EAAa,uCAAG,WAAMC,EAAIE,GAAV,iBAAA1H,EAAA,sEAEdiI,GAAW,GACLC,EAAa3G,IAAM4G,KAAK,eAAgB,CAACT,aAAW,CACtDjG,QAAS,CAACC,cAAelB,KAEvB+G,EAAgBhG,IAAM6G,OAAN,wBAA8BZ,GAAM,CACtD/F,QAAS,CAACC,cAAelB,KAPf,SAUR0H,EAVQ,uBAWRX,EAXQ,OAYdzH,GAAaD,GACboI,GAAW,GAbG,kDAed/G,MAAM,KAAImH,SAASjI,KAAKkI,KAfV,0DAAH,wDAmBnB,OACI,qCAEA,qBAAK1C,UAAU,WAAf,SAEIjG,EAAS4I,KAAI,SAAAlI,GACN,OAAO,cAAC,EAAD,CAAiCA,QAAWA,EAC/CM,QAASA,EAAS4G,cAAeA,GADVlH,EAAQgB,UAMzB,IAApB1B,EAASoG,QAAgB,cAAC,EAAD,QC/CnB5C,eAAW,SAACC,GAAD,MAAY,CAClCoF,UAAU,CACNrB,UAAU,OACV3D,MAAM,OAINF,QAAS,OACT4B,SAAU,OACVuD,OAAQ,YACR5E,WAAY,SACZmB,aAAc,QAElByC,OAAO,CACHpB,SAAU,QACVC,SAAU,QACVC,OAAO,QACPI,UAAU,QACVF,OAAQ,OACRgC,OAAQ,iBACR/E,QAAS,SAGbgF,WAAW,CACPvB,UAAU,OAEVvD,eAAe,gBACfJ,MAAM,OACNmF,UAAW,iBAGX,OAAO,CACHpE,cAAe,YACfL,MAAM,WACNmD,cAAc,MACdD,WAAY,QAEhB,MAAM,CACFwB,WAAW,MACXnC,OAAQ,SACR9B,QAAQ,KAIhBkE,IAAI,CACAnF,QAAQ,OACRE,eAAgB,gBAChBC,WAAY,UAEhBhD,KAAK,CACDkE,WAAW,OACXb,MAAO,QACPiD,UAAW,OACX7D,QAAQ,YACRI,QAAS,eACTa,cAAe,YACf8C,cAAe,MACfyB,aAAc,QAIlBzI,QAAQ,CACJmD,MAAO,OACPE,QAAS,OACTqF,oBAAqB,sCACrBC,aAAc,SACdvC,OAAQ,UAEZwC,UAAU,CACNN,UAAW,iBACXrF,QAAS,OAETE,MAAO,MACP+C,OAAQ,OACR,QAAQ,CACJ/C,MAAO,OACP+C,OAAQ,QAEZE,OAAO,QAGXyC,SAAS,CACL1F,MAAO,QACP+C,OAAQ,QACRvC,SAAU,WACVyE,OAAQ,iBACRU,UAAW,gBAEfC,OAAQ,CACJ,SAAS,CACTlF,MAAO,UACPZ,QAAS,UAET,WAAW,CACPE,MAAO,OACP+C,OAAQ,OACRkC,OAAQ,mBAGhBL,OAAO,CACHpE,SAAU,WACVC,IAAI,EACJgB,MAAO,MACPf,MAAO,UACPkD,WAAY,IACZL,OAAQ,WAEZsC,MAAM,CACF7F,MAAO,OACP+C,OAAQ,OACR7C,QAAS,OACTG,WAAY,SACZD,eAAgB,gBAChB,OAAO,CACHM,MAAO,gBClDJoF,MA5Df,WACI,IAAMC,EAASC,cACT3G,EAAQyC,qBAAWnD,GAClBxC,EAAP,YAAmBkD,EAAMC,YAAYnD,SAArC,MACA,EAA0CD,mBAAS,IAAnD,mBAAO+J,EAAP,KAAsBC,EAAtB,KACMtE,EAAUC,IACVpE,EAAU4B,EAAME,QAAQ9B,QAc9B,OAZAX,qBAAU,WACNqJ,QAAQC,IAAI,aACTL,EAAO/B,IACN7H,EAASkK,SAAQ,SAAAxJ,GACVA,EAAQgB,MAAQkI,EAAO/B,IAAIkC,EAAiBrJ,QAIxD,CAACkJ,EAAO/B,GAAI7H,IAIW,IAAvB8J,EAAc1D,OAAmB,KAEhC,qCAEI,sBAAKH,UAAWR,EAAQoD,UAAxB,UACI,qBAAK5C,UAAWR,EAAQqC,OAAQzB,IAAKyD,EAAchC,OAAOG,IAAK1B,IAAM,KACrE,sBAAKN,UAAaR,EAAQsD,WAA1B,UACI,sBAAK9C,UAAaR,EAAQyD,IAA1B,UACI,6BAAKY,EAAc5B,QACnB,sCAAS4B,EAAcK,iBAE3B,sCAASL,EAAc3B,SACvB,4BAAI2B,EAAc1B,cAClB,4BAAI0B,EAAcM,UAClB,uCAAUN,EAAcO,QAExB,cAAC,IAAD,CAAMnE,GAAG,QAAQD,UAAaR,EAAQvE,KACtCiF,QAAS,kBAAI7E,EAAQwI,IADrB,wBAIR,sBAAK7D,UAAaR,EAAQ6D,UAA1B,UACA,8CACA,qBAAKjD,IAAKyD,EAAchC,OAAOG,IAAK1B,IAAI,WAIxC,gCACI,kDACA,qBAAKN,UAAWR,EAAQ/E,QAAxB,SACOV,EAAS4I,KAAI,SAAAlI,GACZ,OAAOA,EAAQ4J,WAAaR,EAAcQ,SACxC,cAAC,EAAD,CAAarE,UAAaR,EAAQ/E,QAA4BA,QAAWA,GAAxBA,EAAQgB,KAA4B,iB,QCvDhG8B,eAAW,SAACC,GAAD,MAAU,CAChC8G,UAAU,CACNC,gBAAiB,yBACjB3G,MAAO,QACP+C,OAAQ,QACRkC,OAAQ,iBAGRzD,aAAc,MACdyB,OAAQ,OACRnD,QAAS,OACT,UAAU,CACNE,MAAO,OACP+C,OAAQ,OACRE,OAAQ,SACRnD,QAAS,QACT8G,QAAS,OACT3B,OAAQ,iBACRzD,aAAc,QAGlB,WAAW,CACPxB,MAAO,QACP+C,OAAQ,OACRE,OAAQ,SACRnD,QAAS,QACT8G,QAAS,OACT3B,OAAQ,iBACR1E,gBAAgB,qBAChBG,MAAO,QACPkD,WAAY,OAEhB,MAAM,CACFlD,MAAO,qBACPmD,cAAe,QACfD,WAAY,MACZ/C,WAAW,SAMnBwE,IAAI,CACAnF,QAAQ,OACRE,eAAgB,gBAChBC,WAAY,cCILwG,MA9Cf,WACI,IAAMjF,EAAUC,IAEhB,EAAwB3F,mBAAS,CAC7B4K,MAAO,GAAIC,SAAU,KADzB,mBAAOC,EAAP,KAAaC,EAAb,KAIOC,EAAgB,SAAAC,GACnB,MAAsBA,EAAEC,OAAjBC,EAAP,EAAOA,KAAM3H,EAAb,EAAaA,MACbuH,EAAQ,2BAAID,GAAL,kBAAYK,EAAM3H,MAGvB4H,EAAW,uCAAG,WAAMH,GAAN,eAAA3K,EAAA,6DAChB2K,EAAEI,iBADc,kBAGMxJ,IAAM4G,KAAK,cAAX,eAA8BqC,IAHpC,OAGNrK,EAHM,OAKZwC,aAAaqI,QAAQ,cAAa,GAClCvF,OAAOC,SAASC,KAAK,IACtBgE,QAAQC,IAAIzJ,GAPC,kDASZe,MAAM,KAAImH,SAASjI,KAAKkI,KATZ,0DAAH,sDAYjB,OACI,qBAAK1C,UAAWR,EAAQ8E,UAAxB,SACI,uBAAOe,SAAUH,EAAjB,UACI,qBAAKI,MAAM,oBAAX,SACI,oBAAIA,MAAM,qBAAV,qBAEJ,uBAAOC,KAAK,QAAQN,KAAO,QAAQO,UAAQ,EAACC,YAAY,QACxDnI,MAASsH,EAAKF,MAAOgB,SAAUZ,IAE/B,uBAAOS,KAAK,WAAWN,KAAO,WAAWO,UAAQ,EAACC,YAAY,WAC9DE,aAAa,KAAKrI,MAASsH,EAAKD,SAAUe,SAAUZ,IAEpD,sBAAK9E,UAAaR,EAAQyD,IAA1B,UACI,cAAC,IAAD,CAAMhD,GAAK,YAAX,sBACA,wBAAQsF,KAAK,SAAb,4BCWLK,MAjDf,WACI,IAAMpG,EAAUC,IAEhB,EAAwB3F,mBAAS,CAC7BmL,KAAM,GAAGP,MAAO,GAAIC,SAAU,KADlC,mBAAOC,EAAP,KAAaC,EAAb,KAIOC,EAAgB,SAAAC,GACnB,MAAsBA,EAAEC,OAAjBC,EAAP,EAAOA,KAAM3H,EAAb,EAAaA,MACbuH,EAAQ,2BAAID,GAAL,kBAAYK,EAAM3H,MAEvBuI,EAAc,uCAAG,WAAMd,GAAN,SAAA3K,EAAA,6DACnB2K,EAAEI,iBADiB,kBAGTxJ,IAAM4G,KAAK,iBAAX,eAAiCqC,IAHxB,OAIf7H,aAAaqI,QAAQ,cAAa,GAClCvF,OAAOC,SAASC,KAAK,IALN,gDAOfzE,MAAM,KAAImH,SAASjI,KAAKkI,KAPT,yDAAH,sDAUpB,OACI,qBAAK1C,UAAaR,EAAQ8E,UAA1B,SACA,uBAAMe,SAAUQ,EAAhB,UACA,oBAAIP,MAAM,qBAAV,kCAEI,uBAAOC,KAAK,OAAON,KAAO,OAAOO,UAAQ,EAACC,YAAY,OACtDnI,MAASsH,EAAKK,KAAMS,SAAUZ,IAE9B,uBAAOS,KAAK,QAAQN,KAAO,QAAQO,UAAQ,EAACC,YAAY,QACxDnI,MAASsH,EAAKF,MAAOgB,SAAUZ,IAE/B,uBAAOS,KAAK,WAAWN,KAAO,WAAWO,UAAQ,EAACC,YAAY,WAC9DE,aAAa,KAAKrI,MAASsH,EAAKD,SAAUe,SAAUZ,IAClD,sBAAKQ,MAAM,mBAAX,UACE,mBAAGA,MAAM,yBAAT,2MACA,mBAAGvF,KAAK,GAAGuF,MAAM,kBAAjB,gGAGJ,sBAAKtF,UAAaR,EAAQyD,IAA1B,UACI,cAAC,IAAD,CAAMhD,GAAK,SAAX,mBACA,wBAAQsF,KAAK,SAAb,+BC5CDhI,eAAW,SAACC,GAAD,MAAY,CAClCoF,UAAU,CACNrB,UAAU,OACV3D,MAAM,MACNkI,UAAW,QACXhI,QAAS,OAGTJ,QAAS,OACT4B,SAAU,OACVuD,OAAQ,YACR5E,WAAY,SACZmB,aAAc,OACdyB,OAAQ,QAEZgB,OAAO,CACHpB,SAAU,QACVC,SAAU,QACVoF,UAAU,QACV/E,UAAU,QACVF,OAAQ,OACRgC,OAAQ,iBACR/E,QAAS,SAGbgF,WAAW,CACPiD,YAAa,OACbxE,UAAU,OAEVvD,eAAe,gBACfJ,MAAM,OAIN,OAAO,CACHe,cAAe,YACfL,MAAM,WACNmD,cAAc,MACdD,WAAY,QAEhB,MAAM,CACFwB,WAAW,MACXnC,OAAQ,SACR9B,QAAQ,KAIhBkE,IAAI,CACAnF,QAAQ,OACRE,eAAgB,gBAChBC,WAAY,UAEhBhD,KAAK,CACDkE,WAAW,OACXb,MAAO,QACPiD,UAAW,OACX7D,QAAQ,YACRI,QAAS,eACTa,cAAe,YACf8C,cAAe,MACfyB,aAAc,QAIlBzI,QAAQ,CACJmD,MAAO,OACPE,QAAS,OACTqF,oBAAqB,sCACrBC,aAAc,SACdvC,OAAQ,UAEZwC,UAAU,CAGN3F,QAAS,OAETE,MAAO,MACP+C,OAAQ,OACR,QAAQ,CACJ/C,MAAO,OACP+C,OAAQ,QAEZE,OAAO,QAEXyC,SAAS,CACL1F,MAAO,QACP+C,OAAQ,QACRvC,SAAU,WACVyE,OAAQ,iBACRU,UAAW,gBAEfC,OAAQ,CACJ,SAAS,CACTlF,MAAO,UACPZ,QAAS,UAET,WAAW,CACPE,MAAO,OACP+C,OAAQ,OACRkC,OAAQ,iBACRzD,aAAc,QAGtBoD,OAAO,CAGHnD,MAAO,MACPf,MAAO,UACPkD,WAAY,IACZL,OAAQ,WAEZsC,MAAM,CACF7F,MAAO,OACP+C,OAAQ,OACR7C,QAAS,OACTG,WAAY,SACZD,eAAgB,gBAChB,OAAO,CACHM,MAAO,gB,iDCrHE0H,E,4JACjB,WAAU,IAAD,OAgBDvC,EAAQwC,KAAKC,MAAMzC,MACvBM,QAAQC,IAAIiC,KAAKC,MAAMzC,OAgBvB,OACI,cAAC,IAAD,CACA0C,IArBM,UAqBIC,OAfC,CACXC,QAAY,mFACZC,WAAY,0BAcZC,SArBW,MAsBX9C,MAAOA,EAAO+C,QA3BF,SAACC,GACb1C,QAAQC,IAAI,SAAUyC,IA2BtBC,UArCc,SAACC,GACb5C,QAAQC,IAAI,6BAA8B2C,GACpC,EAAKT,MAAMU,YAAYD,IAmCTE,SAhCT,SAACrM,GACduJ,QAAQC,IAAI,6BAA8BxJ,IAgC1CsM,MAdQ,CACRC,KAAM,QACNzI,MAAO,OACP0I,MAAO,OACPC,MAAO,WACPC,SAAS,S,GA/BqBC,IAAMC,WCwHjC/G,MApHf,WACI,IAAMpD,EAAQyC,qBAAWnD,GACzB,cAAwBU,EAAME,QAAQlC,KAAtC,GAAOA,EAAP,KAAaC,EAAb,KACMsE,EAAUC,IAChB,EAA0B3F,mBAAS,GAAnC,mBAAO2J,EAAP,KAAc4D,EAAd,KACOzM,EAAP,YAAgBqC,EAAMrC,MAAtB,MAeA,GAbAF,qBAAU,YACW,WACb,IAAM+I,EAAQxI,EAAKqM,QAAO,SAACC,EAAM/L,GAC7B,OAAO+L,EAAQ/L,EAAK0G,MAAQ1G,EAAKE,WACnC,GAEF2L,EAAS5D,GAGb+D,KAEF,CAACvM,IAEgB,IAAhBA,EAAKkF,OAAc,OAAO,oBAAI2G,MAAO,CAACW,UAAW,SAAUnI,SAAU,QAA3C,wBAG7B,IAAMoI,EAAS,uCAAG,WAAOzM,GAAP,SAAAb,EAAA,sEACRuB,IAAMC,MAAM,gBAAiB,CAACX,QAAO,CACvCY,QAAS,CAACC,cAAelB,KAFf,2CAAH,sDA0CTgM,EAAW,uCAAG,WAAMD,GAAN,iBAAAvM,EAAA,6DACTuN,EAAsBhB,EAAtBgB,UAAWC,EAAWjB,EAAXiB,QADF,SAGVjM,IAAM4G,KAAK,eAAgB,CAACtH,OAAM0M,YAAWC,WAAU,CACzD/L,QAAS,CAACC,cAAelB,KAJb,OAOhBM,EAAQ,IACRwM,EAAU,IACVpM,MAAM,0CATU,2CAAH,sDAYjB,OACQ,qCAEIL,EAAK0H,KAAI,SAAAlI,GAAO,OACZ,sBAAuBuF,UAAWR,EAAQoD,UAA1C,UACI,qBAAK5C,UAAWR,EAAQqC,OAAQzB,IAAK3F,EAAQoH,OAAOG,IAAK1B,IAAM,KAC/D,sBAAKN,UAAaR,EAAQsD,WAA1B,UACI,qBAAK9C,UAAaR,EAAQyD,IAA1B,SACI,6BAAKxI,EAAQwH,UAEjB,sCAASxH,EAAQyH,MAAQzH,EAAQiB,YACjC,4BAAIjB,EAAQ0H,cACZ,4BAAI1H,EAAQ0J,UACZ,uCAAU1J,EAAQ2J,QAClB,sBAAKpE,UAAWR,EAAQgE,OAAxB,UACI,wBAAQtD,QAAS,kBAlD1B0B,EAkD0CnH,EAAQgB,IAjDjER,EAAKgJ,SAAQ,SAAAzI,GACNA,EAAKC,MAAQmG,IACM,IAAlBpG,EAAKE,SAAiBF,EAAKE,SAAW,EAAIF,EAAKE,UAAY,MAInER,EAAQ,YAAID,SACZyM,EAAUzM,GARI,IAAC2G,GAkDS,iBACA,+BAAOnH,EAAQiB,WACf,wBAAQwE,QAAS,kBAhE1B0B,EAgE0CnH,EAAQgB,IA/DjER,EAAKgJ,SAAQ,SAAAzI,GACNA,EAAKC,MAAQmG,IACZpG,EAAKE,UAAY,MAIzBR,EAAQ,YAAID,SACZyM,EAAUzM,GARI,IAAC2G,GAgES,iBAEA,qBAAK5B,UAAWR,EAAQgD,OAAQtC,QAAS,kBA3C7C0B,EA2CiEnH,EAAQgB,SA1C1FoE,OAAOgI,QAAQ,yCACd5M,EAAKgJ,SAAQ,SAACzI,EAAMsM,GACbtM,EAAKC,MAAQmG,GACZ3G,EAAK8M,OAAOD,EAAO,MAI3B5M,EAAQ,YAAID,IACZyM,EAAUzM,KATM,IAAA2G,GA2CI,uBAfFnH,EAAQgB,QAuBtB,sBAAKuE,UAAaR,EAAQiE,MAA1B,UACI,0CAAaA,EAAb,OACA,cAAC,EAAD,CACAA,MAAOA,EACPmD,YAAaA,WCzGlBoB,MARf,WACI,OACI,mDCFOzK,eAAW,SAACC,GAAD,MAAY,CAClCyK,aAAa,CACTC,UAAW,OACX,OAAO,CACHT,UAAU,SACV5G,OAAQ,OACRlC,cAAe,YACf8C,cAAe,SAGnB,OAAO,CACHgG,UAAU,SACV5G,OAAQ,OACRlC,cAAe,YACf8C,cAAe,SAGnB,UAAU,CACNZ,OAAQ,OACRjD,MAAM,QAEV,OAAO,CACHiF,OAAQ,iBACRsF,eAAgB,WAChBV,UAAW,SACX/J,QAAS,QAEb,OAAO,CACHmF,OAAQ,iBACRsF,eAAgB,YAEnB,OAAO,CACJtF,OAAQ,iBACRsF,eAAgB,WAChBV,UAAW,SACX/J,QAAS,QAEb,MAAM,CACFY,MAAO,aCuBJ8J,MAzDf,WACI,IAAMnL,EAAQyC,qBAAWnD,GACzB,cAA8BU,EAAME,QAAQhC,QAA5C,GAAOA,EAAP,KAAgBC,EAAhB,KACOL,EAAP,YAAkBkC,EAAME,QAAQpC,QAAhC,MACOH,EAAP,YAAgBqC,EAAMrC,MAAtB,MACM4E,EAAUC,IAqBhB,OAnBA/E,qBAAU,WACN,GAAGE,EAAM,CACL,IAAMsB,EAAU,uCAAG,8BAAA9B,EAAA,0DACZW,EADY,gCAEOV,IAAMC,IAAI,eAAgB,CACxCuB,QAAS,CAACC,cAAelB,KAHlB,OAELL,EAFK,OAKXa,EAAWb,EAAIC,MALJ,uCAOOH,IAAMC,IAAI,gBAAiB,CACzCuB,QAAS,CAACC,cAAelB,KARlB,OAOLL,EAPK,OAUXa,EAAWb,EAAIC,MAVJ,4CAAH,qDAahB0B,OAEN,CAACtB,EAAOG,EAASK,IAIf,sBAAK4E,UAAWR,EAAQyI,aAAxB,UACI,yCAEA,2CAAc9M,EAAQgF,OAAtB,cAEA,kCACI,gCACI,+BACI,4CACA,mDACA,4BAGR,gCAEQhF,EAAQwH,KAAI,SAAA0F,GAAK,OACb,+BACI,6BAAKA,EAAMV,YACX,6BAAK,IAAIW,KAAKD,EAAME,WAAWC,uBAC/B,6BAAI,cAAC,IAAD,CAAMvI,GAAE,mBAAcoI,EAAM5M,KAA5B,sBAHC4M,EAAM5M,iBChD5B8B,eAAW,SAACC,GAAD,MAAY,CAClCyF,IAAI,CACAnF,QAAQ,OACRE,eAAgB,gBAChBC,WAAY,SACZyC,SAAU,QACVhD,QAAS,OACTwF,aAAc,OACdL,OAAQ,kBAGZzG,WAAW,CACPqE,SAAU,QACV3C,QAAS,OACTC,SAAU,OACVC,eAAgB,eAChB6C,OAAQ,YACP,SAAS,CACNjD,MAAO,QACPsF,aAAc,QAElB,UAAU,CACNpF,QAAS,QACT0D,WAAY,IACZC,cAAe,MACf9C,cAAe,YACfuE,aAAc,QAElB,UAAU,CACNvC,OAAQ,OACRkC,OAAQ,OACR2B,QAAS,OACTtG,aAAc,iBACdN,MAAO,SAIT,WAAW,CACT+C,OAAQ,OACRkC,OAAQ,OACR2B,QAAS,OACTtG,aAAc,iBACdN,MAAO,OACPuB,WAAY,OACZb,MAAO,QACPG,WAAY,aCqCTgK,MAhFf,WACI,IAAMxL,EAAQyC,qBAAWnD,GACnBiD,EAAUC,IACTrD,EAAP,YAAqBa,EAAMG,cAAchB,WAAzC,MACA,EAAgCtC,mBAAS,IAAzC,mBAAOuK,EAAP,KAAiBqE,EAAjB,KACO9N,EAAP,YAAgBqC,EAAMrC,MAAtB,MACA,cAAgCqC,EAAMG,cAAcnD,SAApD,GAAOA,EAAP,KAAiBC,EAAjB,KACA,EAA4BJ,oBAAS,GAArC,mBAAO6O,EAAP,KAAeC,EAAf,KACA,EAAoB9O,mBAAS,IAA7B,mBAAO8H,EAAP,KAAWiH,EAAX,KAEMC,EAAc,uCAAG,WAAM/D,GAAN,iBAAA3K,EAAA,yDACnB2K,EAAEI,iBADiB,UAGZwD,EAHY,gCAIOhN,IAAMoN,IAAN,wBAA2BnH,GAAM,CAACqD,KAAMZ,GAAW,CACjExI,QAAS,CAACC,cAAelB,KALlB,OAILL,EAJK,OAOXe,MAAMf,EAAIC,KAAKkI,KAPJ,wCASO/G,IAAM4G,KAAK,gBAAiB,CAAC0C,KAAMZ,GAAW,CAC5DxI,QAAS,CAACC,cAAelB,KAVlB,QASLL,EATK,OAYXe,MAAMf,EAAIC,KAAKkI,KAZJ,QAcfkG,GAAU,GACVF,EAAY,IACZxO,GAAaD,GAhBE,kDAmBfqB,MAAM,KAAImH,SAASjI,KAAKkI,KAnBT,0DAAH,sDAuBdsG,EAAY,uCAAG,WAAOpH,EAAIqD,GAAX,SAAA7K,EAAA,sDACjByO,EAAMjH,GACN8G,EAAYzD,GACZ2D,GAAU,GAHO,2CAAH,wDAMZK,EAAc,uCAAG,WAAMrH,GAAN,eAAAxH,EAAA,+EAEGuB,IAAM6G,OAAN,wBAA8BZ,GAAM,CAClD/F,QAAS,CAACC,cAAelB,KAHd,OAETL,EAFS,OAKfe,MAAMf,EAAIC,KAAKkI,KACfxI,GAAaD,GANE,gDAQfqB,MAAM,KAAImH,SAASjI,KAAKkI,KART,yDAAH,sDAYpB,OACI,sBAAK1C,UAAWR,EAAQpD,WAAxB,UACI,uBAAMiJ,SAAUyD,EAAhB,UAGI,uBAAOI,QAAQ,WAAf,sBACA,uBAAO3D,KAAK,OAAON,KAAK,WAAW3H,MAAO+G,EAAUmB,UAAQ,EAC5DE,SAAU,SAAAX,GAAC,OAAI2D,EAAY3D,EAAEC,OAAO1H,UAEpC,wBAAQiI,KAAK,SAAb,SAAuBoD,EAAQ,SAAW,cAG9C,qBAAK3I,UAAWR,EAAQ2J,IAAxB,SAEQ/M,EAAWuG,KAAI,SAAA0B,GAAQ,OACnB,sBAAKrE,UAAWR,EAAQyD,IAAxB,UACI,4BAAIoB,EAASY,OACb,gCACI,wBAAQ/E,QAAS,kBAAM8I,EAAa3E,EAAS5I,IAAK4I,EAASY,OAA3D,kBACA,wBAAQ/E,QAAS,kBAAM+I,EAAe5E,EAAS5I,MAA/C,yBAJ0B4I,EAAS5I,cChE7D2N,EAAe,CACjBlF,WAAY,GACZjC,MAAO,GACPC,MAAO,EACPC,YAAa,yBACbgC,QAAS,qBACTE,SAAU,GACV5I,IAAK,IAiLM4N,MA9Kf,WACI,IAAMpM,EAAQyC,qBAAWnD,GACzB,EAA8BzC,mBAASsP,GAAvC,mBAAO3O,EAAP,KAAgB6O,EAAhB,KACOlN,EAAP,YAAqBa,EAAMG,cAAchB,WAAzC,MACA,EAA4BtC,oBAAS,GAArC,mBAAO+H,EAAP,KAAe0H,EAAf,KACA,EAA8BzP,oBAAS,GAAvC,mBAAO0P,EAAP,KAAgBnH,EAAhB,KAGOtH,EAAP,YAAkBkC,EAAME,QAAQpC,QAAhC,MACOH,EAAP,YAAgBqC,EAAMrC,MAAtB,MAEMO,EAAUsO,cACVC,EAAQ9F,cAEP7J,EAAP,YAAmBkD,EAAMC,YAAYnD,SAArC,MACA,EAA4BD,oBAAS,GAArC,mBAAO6O,EAAP,KAAeC,EAAf,KACA,cAAgC3L,EAAMC,YAAYjD,SAAlD,GAAOA,EAAP,KAAiBC,EAAjB,KAEAQ,qBAAU,WACHgP,EAAM9H,IACLgH,GAAU,GACV7O,EAASkK,SAAQ,SAAAxJ,GACVA,EAAQgB,MAAQiO,EAAM9H,KACrB0H,EAAW7O,GACX8O,EAAU9O,EAAQoH,cAI1B+G,GAAU,GACVU,EAAWF,GACXG,GAAU,MAEf,CAACG,EAAM9H,GAAI7H,IAEd,IAAM4P,EAAY,uCAAG,WAAM5E,GAAN,mBAAA3K,EAAA,yDACjB2K,EAAEI,iBADe,SAGTpK,EAHS,yCAGOO,MAAM,wBAHb,UAIPsO,EAAO7E,EAAEC,OAAO6E,MAAM,GAJf,yCAMIvO,MAAM,oBANV,YAQVsO,EAAK7C,KAAO,SARF,yCASFzL,MAAM,oBATJ,UAWI,eAAdsO,EAAKrE,MAAuC,cAAdqE,EAAKrE,KAXzB,0CAYFjK,MAAM,8BAZJ,eAcTwO,EAAW,IAAIC,UACVC,OAAO,OAAQJ,GAExBvH,GAAW,GAjBE,UAkBKhI,IAAMkI,KAAK,cAAeuH,EAAU,CAClDjO,QAAS,CAAC,eAAgB,sBAAuBC,cAAelB,KAnBvD,QAkBPL,EAlBO,OAqBb8H,GAAW,GACXkH,EAAUhP,EAAIC,MAtBD,kDAyBbc,MAAM,KAAImH,SAASjI,KAAKkI,KAzBX,0DAAH,sDA6BZuH,EAAa,uCAAG,sBAAA7P,EAAA,kEAEVW,EAFU,yCAEMO,MAAM,wBAFZ,cAGd+G,GAAW,GAHG,SAIRhI,IAAMkI,KAAK,eAAgB,CAACT,UAAWD,EAAOC,WAAY,CAC5DjG,QAAS,CAACC,cAAelB,KALf,OAOdyH,GAAW,GACXkH,GAAU,GARI,kDAUdjO,MAAM,KAAImH,SAASjI,KAAKkI,KAVV,0DAAH,qDAcbwH,EAAoB,SAAAnF,GACtB,MAAsBA,EAAEC,OAAjBC,EAAP,EAAOA,KAAM3H,EAAb,EAAaA,MACbgM,EAAW,2BAAI7O,GAAL,kBAAewK,EAAM3H,MAG7B6M,EAAY,uCAAG,WAAMpF,GAAN,SAAA3K,EAAA,yDACjB2K,EAAEI,iBADe,SAGTpK,EAHS,yCAGOO,MAAM,wBAHb,UAITuG,EAJS,yCAIMvG,MAAM,oBAJZ,WAMVqN,EANU,iCAOHtO,IAAM0O,IAAN,wBAA2BtO,EAAQgB,KAAnC,2BAA8ChB,GAA9C,IAAuDoH,WAAS,CAClEhG,QAAS,CAACC,cAAelB,KARpB,gDAWHP,IAAMkI,KAAK,gBAAX,2BAAgC9H,GAAhC,IAAyCoH,WAAS,CACpDhG,QAAS,CAACC,cAAelB,KAZpB,QAebV,GAAaD,GACbqB,MAAM,kBACNH,EAAQiP,KAAK,KAjBA,kDAmBb9O,MAAM,KAAImH,SAASjI,KAAKkI,KAnBX,0DAAH,sDAuBZ2H,EAAc,CAChBvM,QAAS+D,EAAS,QAAU,QAEhC,OACI,sBAAK7B,UAAU,iBAAf,UACI,sBAAKA,UAAU,SAAf,UACI,uBAAOuF,KAAK,OAAON,KAAK,OAAOrD,GAAG,UAAU8D,SAAUiE,IAElDH,EAAU,qBAAK5H,GAAG,WAAR,SAAmB,cAAC,EAAD,MAE5B,sBAAKA,GAAG,WAAWkF,MAAOuD,EAA1B,UACG,qBAAKjK,IAAKyB,EAASA,EAAOG,IAAM,GAAI1B,IAAI,KACxC,sBAAMJ,QAAS+J,EAAf,qBAMZ,uBAAM5E,SAAU8E,EAAhB,UACI,sBAAKnK,UAAU,MAAf,UACI,uBAAOkJ,QAAQ,aAAf,wBACA,uBAAO3D,KAAK,OAAON,KAAK,aAAarD,GAAG,aAAa4D,UAAQ,EAC7DlI,MAAO7C,EAAQyJ,WAAYwB,SAAUwE,EAAmBI,SAAU3B,OAGtE,sBAAK3I,UAAU,MAAf,UACI,uBAAOkJ,QAAQ,QAAf,mBACA,uBAAO3D,KAAK,OAAON,KAAK,QAAQrD,GAAG,QAAQ4D,UAAQ,EACnDlI,MAAO7C,EAAQwH,MAAOyD,SAAUwE,OAGpC,sBAAKlK,UAAU,MAAf,UACI,uBAAOkJ,QAAQ,QAAf,mBACA,uBAAO3D,KAAK,SAASN,KAAK,QAAQrD,GAAG,QAAQ4D,UAAQ,EACrDlI,MAAO7C,EAAQyH,MAAOwD,SAAUwE,OAGpC,sBAAKlK,UAAU,MAAf,UACI,uBAAOkJ,QAAQ,cAAf,yBACA,0BAAU3D,KAAK,OAAON,KAAK,cAAcrD,GAAG,cAAc4D,UAAQ,EAClElI,MAAO7C,EAAQ0H,YAAaoI,KAAK,IAAI7E,SAAUwE,OAGnD,sBAAKlK,UAAU,MAAf,UACI,uBAAOkJ,QAAQ,UAAf,qBACA,0BAAU3D,KAAK,OAAON,KAAK,UAAUrD,GAAG,UAAU4D,UAAQ,EAC1DlI,MAAO7C,EAAQ0J,QAASoG,KAAK,IAAI7E,SAAUwE,OAG/C,sBAAKlK,UAAU,MAAf,UACI,uBAAOkJ,QAAQ,aAAf,0BACA,yBAAQjE,KAAK,WAAW3H,MAAO7C,EAAQ4J,SAAUqB,SAAUwE,EAA3D,UACI,wBAAQ5M,MAAM,GAAd,sCAEIlB,EAAWuG,KAAI,SAAA0B,GAAQ,OACnB,wBAAQ/G,MAAO+G,EAAS5I,IAAxB,SACK4I,EAASY,MADoBZ,EAAS5I,cAQ3D,wBAAQ8J,KAAK,SAAb,SAAuBoD,EAAQ,SAAW,kBC9I3C6B,OA1Bf,WAEI,IAAMvN,EAAQyC,qBAAWnD,GAClB1B,EAAP,YAAmBoC,EAAME,QAAQtC,SAAjC,MACOE,EAAP,YAAmBkC,EAAME,QAAQpC,QAAjC,MAGA,OACI,eAAC,IAAD,WACG,cAAC,IAAD,CAAO0P,KAAO,IAAIC,OAAK,EAACC,UAAavI,IACrC,cAAC,IAAD,CAAOqI,KAAO,cAAcC,OAAK,EAACC,UAAajH,IAC/C,cAAC,IAAD,CAAO+G,KAAO,SAASC,OAAK,EAACC,UAAa9P,EAAUmN,EAAUvD,IAC9D,cAAC,IAAD,CAAOgG,KAAO,YAAYC,OAAK,EAACC,UAAa9P,EAAUmN,EAAUpC,IACjE,cAAC,IAAD,CAAO6E,KAAO,QAAQC,OAAK,EAACC,UAAatK,IACzC,cAAC,IAAD,CAAOoK,KAAO,WAAWC,OAAK,EAACC,UAAa9P,EAAUuN,EAAcJ,IACpE,cAAC,IAAD,CAAOyC,KAAO,YAAYC,OAAK,EAACC,UAAa5P,EAAS0N,EAAYT,IAClE,cAAC,IAAD,CAAOyC,KAAO,kBAAkBC,OAAK,EAACC,UAAa5P,EAASsO,EAAerB,IAC3E,cAAC,IAAD,CAAOyC,KAAO,oBAAoBC,OAAK,EAACC,UAAa5P,EAASsO,EAAerB,IAE7E,cAAC,IAAD,CAAOyC,KAAO,WAAWC,OAAK,EAACC,UAAapK,IAE5C,cAAC,IAAD,CAAOkK,KAAO,IAAIC,OAAK,EAACC,UAAa3C,QCIjC4C,OAvCf,WACI,OACI,qBAAK5K,UAAU,SAAf,SACI,sBAAKA,UAAU,kBAAf,UACQ,sBAAKA,UAAU,mBAAf,UACA,oBAAIA,UAAU,eAAd,kCACA,qBAAKA,UAAU,iBAAf,oGAIJ,sBAAKA,UAAU,iBAAf,UACQ,qBAAKA,UAAU,uBAAf,SACI,sBAAKA,UAAU,4BAAf,UACI,oBAAIA,UAAU,eAAd,8BACA,+BACI,gDACA,8DAIZ,sBAAKA,UAAU,uBAAf,UACI,oBAAIA,UAAU,eAAd,8BACA,+BACI,oBAAIA,UAAW,oBAAf,6BACA,oBAAIA,UAAW,oBAAf,+BACA,oBAAIA,UAAW,oBAAf,oCACA,oBAAIA,UAAW,oBAAf,mCAGR,sBAAKA,UAAU,0BAAf,UACI,oBAAIA,UAAU,eAAd,6BACA,6BAAI,8ECXjB6K,OAff,WACE,OACE,cAAC,EAAD,UACA,cAAC,IAAD,UACE,sBAAK7K,UAAU,MAAf,UACE,cAAC,EAAD,IACA,qBAAKA,UAAU,YAAf,SAA2B,cAAC,GAAD,MAC3B,cAAC,GAAD,YCRR8K,IAASC,OAAO,cAAC,GAAD,IAAQC,SAASC,eAAe,W","file":"static/js/main.ed282fe4.chunk.js","sourcesContent":["import {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\n\r\nfunction ProductsAPI() {\r\n    \r\n    const [products, setProducts]=useState([])\r\n    const [callback, setCallback] = useState(false)\r\n\r\n    const getProducts = async()=>{\r\n        const res = await axios.get('/api/products')\r\n        setProducts(res.data.product);\r\n        // console.log(res)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        getProducts()\r\n    },[callback])\r\n    return {\r\n        products:[products, setProducts],\r\n        callback: [callback, setCallback],\r\n    }\r\n    \r\n}\r\n\r\nexport default ProductsAPI\r\n","import Axios from 'axios'\r\nimport  {useState, useEffect} from 'react'\r\n\r\nfunction UserAPI(token) {\r\n    const [isLogged, setisLogged] = useState(false)\r\n    const [isAdmin, setisAdmin] = useState(false)\r\n    const [cart, setCart] = useState([])\r\n    const [history, setHistory] = useState([])\r\n   \r\n   \r\n   \r\n   \r\n    const addCart = async (product) => {\r\n        if(!isLogged) return alert(\"Please login to continue buying\")\r\n\r\n        const check = cart.every(item =>{\r\n            return item._id !== product._id\r\n        })\r\n\r\n        if(check){\r\n            setCart([...cart, {...product, quantity: 1}])\r\n\r\n            await Axios.patch('/user/addcart', {cart: [...cart, {...product, quantity: 1}]}, {\r\n                headers: {Authorization: token}\r\n            })\r\n\r\n        }else{\r\n            alert(\"This product has been added to cart.\")\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() =>{\r\n        if(token){\r\n            const getUser = async () =>{\r\n                try {\r\n                    // console.log(token, 'token');\r\n                    const res = await Axios.get('/user/infor', {\r\n                        headers: {Authorization: token}\r\n                    })\r\n                    // console.log(res)\r\n\r\n                    setisLogged(true)\r\n                    setCart(res.data.cart)\r\n                    res.data.role === 1 ? setisAdmin(true) : setisAdmin(false)\r\n                } catch (err) {\r\n                    alert(err.message)\r\n                }\r\n            }\r\n\r\n            getUser()\r\n            \r\n        }\r\n    },[token])\r\n\r\n    useEffect(()=>{\r\n        if(token){\r\n            const getHistory = async()=>{\r\n                if(isAdmin){\r\n                    const res = await Axios.get('/api/payment',{\r\n                        headers:{Authorization: token}\r\n                    })\r\n                    setHistory(res.data)\r\n                }else{\r\n                    const res = await Axios.get('/user/history',{\r\n                        headers: {Authorization: token}\r\n                    })\r\n                    setHistory(res.data)\r\n                }\r\n             \r\n\r\n            }\r\n            getHistory()\r\n\r\n        }\r\n    },[token])\r\n\r\n    return {\r\n        isLogged: [isLogged, setisLogged],\r\n        isAdmin: [isAdmin, setisAdmin],\r\n        cart: [cart, setCart],\r\n        addCart: addCart,\r\n        history: [history, setHistory]\r\n    }\r\n}\r\n\r\nexport default UserAPI\r\n","import {useState, useEffect} from 'react'\r\nimport Axios from 'axios'\r\n\r\nfunction CategoriesAPI() {\r\n    const [categories, setCategories] = useState([])\r\n    const [callback, setCallback] = useState(false)\r\n\r\n    useEffect(() =>{\r\n        const getCategories = async () =>{\r\n            const res = await Axios.get('/api/category')\r\n            setCategories(res.data)\r\n            // console.log(res.data)\r\n        }\r\n\r\n        getCategories()\r\n    },[])\r\n    return {\r\n        categories: [categories, setCategories],\r\n        callback: [callback, setCallback]\r\n    }\r\n}\r\n\r\nexport default CategoriesAPI","import Axios from 'axios';\r\nimport React, {createContext, useState, useEffect} from 'react'\r\nimport ProductsAPI from './api/ProductsAPI'\r\nimport UserAPI from './api/UserAPI';\r\nimport CategoriesAPI from './api/CategoriesAPI';\r\n\r\nexport const GlobalState = createContext()\r\n\r\nexport const DataProvider = ({children})=>{\r\n\r\n \r\n    const [token, setToken] = useState(false);\r\n\r\n    const refreshToken = async () =>{\r\n        const res = await Axios.get('/user/refresh_token')\r\n        setToken(res.data.accesstoken)\r\n        setTimeout(() => {\r\n            refreshToken()\r\n        }, 10 * 60 * 1000)\r\n\r\n    }\r\n    \r\n    useEffect(()=>{\r\n        const firstLogin =  localStorage.getItem('firstLogin')\r\n        if (firstLogin) {   \r\n      \r\n        refreshToken()\r\n    }\r\n    },[])\r\n\r\n    \r\n    const state = {\r\n        token: [token, setToken] ,\r\n        productsAPI: ProductsAPI(),\r\n        userAPI: UserAPI(token),\r\n        categoriesAPI: CategoriesAPI()\r\n    }\r\n    return (\r\n        <GlobalState.Provider value={state}>\r\n            {children}\r\n        </GlobalState.Provider>\r\n    ) \r\n}","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n    container:{\r\n        padding: '0 20px',\r\n        minHeight: '50px',\r\n        width:'100%',\r\n        overflow: 'hidden',\r\n        display:'flex',\r\n        flexWrap:'wrap',\r\n        justifyContent: 'space-evenly',\r\n        alignItems:'center',\r\n        borderBottom:'1px solid #ddd',\r\n        backgroundColor:'black',\r\n        // background: '#ddd!important',\r\n        position: 'sticky',\r\n        top: 0,\r\n        color:'white',\r\n        zIndex: 1\r\n    },\r\n    logo:{\r\n        marginLeft: '50px',\r\n        flex: 1,\r\n        textTransform: 'uppercase',\r\n        color: 'white'\r\n    },\r\n    menu:{\r\n        color: 'white!important'\r\n    },\r\n    navbarItem:{\r\n        display:'flex',\r\n        alignItems:'center',\r\n      \r\n    },\r\n    navbarItem_item:{\r\n        opacity:0.7,\r\n        padding: '0 20px',\r\n        '&:hover':{\r\n            opacity: 1\r\n        }\r\n    },\r\n    cart_icon:{\r\n        position:  'relative',\r\n        marginRight: '10px'\r\n    },\r\n    cart_icon_span:{\r\n        background:'crimson',\r\n        borderRadius: '20px',\r\n        color: 'white',\r\n        position: 'absolute',\r\n        top: '-10px',\r\n        right:'-10px',\r\n        padding: ' 5px 7px',\r\n        fontSize: '10px',\r\n\r\n\r\n    }\r\n    \r\n  \r\n   \r\n}));","export default __webpack_public_path__ + \"static/media/shopping-cart-solid.ef8f0a22.svg\";","export default __webpack_public_path__ + \"static/media/Menu.1728cbce.svg\";","export default __webpack_public_path__ + \"static/media/close.0c3c9dbb.svg\";","import React, {useState, useContext} from 'react'\r\nimport { GlobalState } from '../../GlobalState';\r\nimport { Link } from 'react-router-dom';\r\nimport useStyles from './styles'\r\nimport Axios from 'axios';\r\n\r\n//icon\r\nimport Menu from './icon/Menu.svg'\r\nimport Cart from './icon/shopping-cart-solid.svg'\r\nimport close from './icon/close.svg'\r\n\r\nfunction Header () {\r\n    const classes = useStyles()\r\n    const state = useContext(GlobalState);\r\n    const [isLogged] = state.userAPI.isLogged\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [cart] = state.userAPI.cart\r\n    // console.log(state)\r\n    const logoutUser = async () =>{\r\n        await Axios.get('/user/logout')\r\n        \r\n        localStorage.removeItem('firstLogin')\r\n        \r\n        window.location.href = \"/\";\r\n    }\r\n\r\n    const adminRouter = () =>{\r\n        return(\r\n            <>\r\n                <li className={classes.navbarItem_item}><Link to=\"/create_product\">Create Product</Link></li>\r\n                <li className={classes.navbarItem_item}><Link to=\"/category\">Categories</Link></li>\r\n                {/* {console.log( [isAdmin])} */}\r\n            </>\r\n        )\r\n    }\r\n\r\n    const loggedRouter = () =>{\r\n        return(\r\n            < >\r\n                <li className={classes.navbarItem_item}><Link to=\"/history\">History</Link></li>\r\n                <li className={classes.navbarItem_item}><Link to=\"/\" onClick={logoutUser}>Logout</Link></li>\r\n                \r\n\r\n            </>\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <header className={classes.container}>\r\n          \r\n            <div className = {classes.logo}>\r\n            <h1>\r\n                    <Link to=\"/\">{isAdmin ? 'Admin' : `Jelly's shop`}</Link>\r\n                </h1>\r\n            </div>\r\n            <ul className = {classes.navbarItem}>\r\n                <li className = {classes.navbarItem_item}><Link to='/'>{isAdmin? 'Product': 'Shop'}</Link></li>\r\n            \r\n                {isAdmin && adminRouter()}\r\n\r\n                {\r\n                    isLogged ? loggedRouter() : <li className = {classes.navbarItem_item}><Link to='/login'>Login/Register</Link></li>\r\n                }\r\n                \r\n            </ul>\r\n                {\r\n                    isAdmin? '' :\r\n                    <div className = {classes.cart_icon} color = \"#fff\">\r\n                        <span className = {classes.cart_icon_span}>{cart.length}</span>\r\n                        <Link to = '/cart'>\r\n                            <img src = {Cart} alt=\"giỏ hàng\" width = '30' color = \"#fff\"/>\r\n                        </Link>\r\n                    </div>\r\n                }\r\n            \r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\n\r\n\r\n\r\nfunction Loading() {\r\n    \r\n    return (\r\n        <div className = 'load-page'>\r\n        <div className=\"loader\">\r\n\r\n            <div>\r\n                <div>\r\n                    <div>\r\n                        <div>\r\n                            <div>\r\n                                <div>\r\n                                    <div>\r\n                                        <div></div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n    product_card:{\r\n        maxWidth: '300px',\r\n        minWidth: '300px',\r\n        overflow:'hidden',\r\n        height:'500px',\r\n        padding:'15px',\r\n        boxShadow:'0 0 15px #ddd',\r\n        margin:'10px 0',\r\n        position:'relative',\r\n        // cursor: 'pointer'\r\n    },\r\n    image:{\r\n        // alignItems:'center',\r\n        margin: 'auto',\r\n        maxWidth:'300px',\r\n        height:'300px',\r\n        display:'block',\r\n        objectFit:'cover'\r\n    },\r\n  \r\n   \r\n    product_infor:{\r\n        \"& span\":{\r\n            color: 'red'\r\n        },\r\n        \"& h2\":{\r\n            width:'100%',\r\n            textOverflow:\"ellipsis\",\r\n            overflow:'hidden',\r\n            whiteSpace:'nowrap',\r\n            textTransform:'capitalize',\r\n            cursor: 'pointer',\r\n            color: 'teal'\r\n        },\r\n        \"& p\":{\r\n            width: '100%',\r\n            display: '-webkit-box',\r\n            webkitBoxOrient: 'vertical',\r\n            webkitLineClamp: 3,\r\n            height: '70px',\r\n            overflow: 'hidden',\r\n            color: '#323232',\r\n        }\r\n    },\r\n    row_btn:{\r\n        width:'100%',\r\n        marginTop:'10px',\r\n        display: 'flex',\r\n        justifyContent:'space-between',\r\n        backgroundColor: 'teal',\r\n        \"& a\":{\r\n            width: '50%',\r\n            textTransform: 'uppercase',\r\n            color: 'white',\r\n            fontWeight: 600,\r\n            letterSpacing: '2px',\r\n            padding: '6px',\r\n        },\r\n        \"& #btn_buy\":{\r\n            background: '#555',\r\n            marginRight:\"5px\"\r\n        },  \r\n        \"& # btn_view\":{\r\n            background: 'teal',\r\n            marginLeft:\"5px\"\r\n        }\r\n\r\n    },\r\n  \r\n   \r\n}))","import React, { useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport{GlobalState} from '../../../../GlobalState'\r\nimport useStyles from './styles'\r\n\r\n\r\nconst BtnRender = ({product, deleteProduct}) => {\r\n    const classes = useStyles()\r\n    const state = useContext(GlobalState)\r\n    const [isAdmin]=state.userAPI.isAdmin\r\n    const addCart = state.userAPI.addCart\r\n    return (\r\n        <div>\r\n        {\r\n            isAdmin? \r\n            <>\r\n            <div className={classes.row_btn}>\r\n            <Link id=\"btn_buy\" to=\"#!\" \r\n                    onClick={() =>deleteProduct(product._id, product.images.public_id)}>\r\n                        Delete\r\n                    </Link>\r\n                <Link id=\"btn_view\" to={`/edit_product/${product._id}`}>edit</Link>\r\n                </div>\r\n\r\n            </>:\r\n            <div className={classes.row_btn}>\r\n                <Link id=\"btn_buy\" to='#!' onClick={()=>addCart(product)}>Buy</Link>\r\n                <Link id=\"btn_view\" to={`/detail/${product._id}`}>View</Link>\r\n                </div>\r\n         \r\n        }\r\n        </div>\r\n\r\n              \r\n    )\r\n}\r\n\r\nexport default BtnRender\r\n","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport BtnRender from './btnRender'\r\nimport Axios from 'axios'\r\nimport useStyles from './styles'\r\n\r\n\r\nfunction ProductItem({product, isAdmin, deleteProduct}) {\r\n    \r\n\r\n\r\n    const classes = useStyles()\r\n    return (\r\n\r\n        <div className = {classes.product_card}>\r\n        \r\n            <img className = {classes.image} src={product.images.url} alt=\"\" />\r\n            <div className={classes.product_infor}>\r\n                <h2  title={product.title }>{product.title}</h2>\r\n                <span>{product.price} VND</span>\r\n                <p>{product.description}</p>\r\n            </div>\r\n            \r\n            <BtnRender product = {product} deleteProduct={deleteProduct} />\r\n         \r\n    \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductItem\r\n","import Axios from 'axios'\r\nimport React, {useContext,useState } from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport Loading from '../utilts/loading/loading'\r\nimport ProductItem from './ProductItem/ProductItem'\r\n\r\n\r\n// import useStyles from './styles'\r\n\r\nfunction Products() {\r\n    // const classes = useStyles()\r\n    const state = useContext(GlobalState)\r\n    const [products]= state.productsAPI.products\r\n    const [isAdmin]=state.userAPI.isAdmin\r\n    const [token] = state.token\r\n    const [callback, setCallback] = state.productsAPI.callback\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const deleteProduct = async(id, public_id) => {\r\n        try {\r\n            setLoading(true)\r\n            const destroyImg = Axios.post('/api/destroy', {public_id},{\r\n                headers: {Authorization: token}\r\n            })\r\n            const deleteProduct = Axios.delete(`/api/products/${id}`, {\r\n                headers: {Authorization: token}\r\n            })\r\n\r\n            await destroyImg\r\n            await deleteProduct\r\n            setCallback(!callback)\r\n            setLoading(false)\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n        \r\n        <div className=\"products\">\r\n           {\r\n            products.map(product=>{\r\n                   return <ProductItem key = {product._id} product = {product}\r\n                       isAdmin={isAdmin} deleteProduct={deleteProduct}\r\n                   />\r\n               })\r\n           }\r\n        </div>\r\n        {products.length === 0 && <Loading/>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Products\r\n ","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n    Container:{\r\n        marginTop:'20px',\r\n        width:'100%',\r\n        // display: 'flex',\r\n        // justifyContent:'space-around',\r\n        // flexWrap:'wrap',\r\n        padding: '50px',\r\n        fontSize: '150%',\r\n        border: 'solid 1px',\r\n        alignItems: 'center',\r\n        borderRadius: '10px'\r\n    },\r\n    images:{\r\n        maxWidth: \"800px\",\r\n        minWidth: \"300px\",\r\n        height:'500px',\r\n        objectFit:'cover',\r\n        margin: 'auto',\r\n        border: 'solid 1px #ddd',\r\n        display: 'block'\r\n\r\n    },\r\n    box_detail:{\r\n        marginTop:'20px',\r\n        // maxWidth: '500px',\r\n        justifyContent:'space-between',\r\n        width:\"100%\",\r\n        borderTop: '1px solid #ddd',\r\n     \r\n      \r\n        \"& h2\":{\r\n            textTransform: 'uppercase',\r\n            color:'darkblue',\r\n            letterSpacing:\"2px\",\r\n            fontWeight: '2rem'\r\n        },\r\n        \"$ p\":{\r\n            lineHeight:'1.5',\r\n            margin: '10px 0',\r\n            opacity:0.8,\r\n        },\r\n      \r\n    },\r\n    row:{\r\n        display:'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n    },\r\n    cart:{\r\n        background:\"#333\",\r\n        color: 'white',\r\n        marginTop: \"10px\",\r\n        padding:'10px 25px',\r\n        display: 'inline-block',\r\n        textTransform: 'uppercase',\r\n        letterSpacing: '2px',\r\n        marginBottom: '30px'\r\n\r\n\r\n    },\r\n    product:{\r\n        width: '100%',\r\n        display: 'grid',\r\n        gridTemplateColumns: 'repeat(auto-fill,minmax(300px,1fr))',\r\n        justifyItems: 'center',\r\n        margin: '0 20px',\r\n    },\r\n    fullImage:{\r\n        borderTop: '1px solid #ddd',\r\n        padding: '20px',\r\n        \r\n        width: '90%',\r\n        height: 'auto',\r\n        \"& img\":{\r\n            width: '100%',\r\n            height: '100%',\r\n        },\r\n        margin:'auto'\r\n    },\r\n  // Cart\r\n    CartItem:{\r\n        width: '500px',\r\n        height: '500px',\r\n        position: 'relative',\r\n        border: '1px solid #ccc',\r\n        transform: 'scaleY(0.98)'\r\n    },\r\n    amount :{\r\n        \"& span\":{\r\n        color: 'crimson',\r\n        padding: '0 20px',\r\n        },\r\n        \"& button\":{\r\n            width: '40px',\r\n            height: '40px',\r\n            border: '1px solid #777',\r\n        },\r\n    },\r\n    delete:{\r\n        position: 'absolute',\r\n        top:0,\r\n        right: '5px',\r\n        color: 'crimson',\r\n        fontWeight: 900,\r\n        cursor: 'pointer',\r\n    },\r\n    total:{\r\n        width: '100%',\r\n        height: '50px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        \"& h3\":{\r\n            color: 'crimson'\r\n        }\r\n    }\r\n}))","import React,{useState, useContext, useEffect} from 'react'\r\nimport {useParams, Link} from 'react-router-dom'\r\nimport {GlobalState} from '../../../../GlobalState'\r\nimport useStyles from './styles'\r\nimport ProductItem from '../ProductItem/ProductItem'\r\n\r\nfunction DetailProduct() {\r\n    const params = useParams()\r\n    const state = useContext(GlobalState)\r\n    const [products] = state.productsAPI.products\r\n    const [detailProduct, setdetailProduct] = useState([])\r\n    const classes = useStyles()\r\n    const addCart = state.userAPI.addCart\r\n\r\n    useEffect(()=>{\r\n        console.log('re render')\r\n        if(params.id){\r\n            products.forEach(product=>{\r\n                if(product._id === params.id) setdetailProduct(product)\r\n                // console.log(params)\r\n            })\r\n        }\r\n    }, [params.id, products])\r\n    // console.log(products)\r\n    // console.log(params)\r\n    // console.log({detailProduct})\r\n    if(detailProduct.length===0) return null;\r\n    return (\r\n        <>\r\n\r\n            <div className={classes.Container}>\r\n                <img className={classes.images} src={detailProduct.images.url} alt = \"\" />\r\n                <div className = {classes.box_detail}>\r\n                    <div className = {classes.row}>\r\n                        <h2>{detailProduct.title}</h2>\r\n                        <h6>ID: {detailProduct.product_id}</h6>\r\n                    </div>\r\n                    <span>$ {detailProduct.price}</span>\r\n                    <p>{detailProduct.description}</p>\r\n                    <p>{detailProduct.content}</p>\r\n                    <p>sold: {detailProduct.sold}</p>\r\n\r\n                    <Link to='/cart' className = {classes.cart} \r\n                    onClick={()=>addCart(detailProduct)}\r\n                    >Buy Now</Link>\r\n                </div>\r\n            <div className = {classes.fullImage}>\r\n            <h2>Full Picture</h2>\r\n            <img src={detailProduct.images.url} alt=\"\" />\r\n            </div>\r\n            </div>\r\n            \r\n            <div>\r\n                <h2>Related Products</h2>\r\n                <div className={classes.product}>\r\n                    {  products.map(product => {\r\n                        return product.category === detailProduct.category \r\n                        ? <ProductItem className = {classes.product} key ={product._id} product = {product}/> :null\r\n                    })\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DetailProduct\r\n","import { makeStyles } from \"@material-ui/core\";\r\n\r\nexport default makeStyles((theme)=>({\r\n    loginPage:{\r\n        backgroundImage: 'url(\"./img/login.png\")',\r\n        width: '500px',\r\n        height: '500px',\r\n        border: '2px solid teal',\r\n        // marginTop: '200px',\r\n        // position:'absolute',\r\n        borderRadius: '5px',\r\n        margin: 'auto',\r\n        padding: '30px',\r\n        \"& input\":{\r\n            width: '100%',\r\n            height: '40px',\r\n            margin: '10px 0',\r\n            padding: '0 5px',\r\n            outline: 'teal',\r\n            border: '1px solid teal',\r\n            borderRadius: '10px'\r\n\r\n        },\r\n        \"& button\":{\r\n            width: '150px',\r\n            height: '40px',\r\n            margin: '10px 0',\r\n            padding: '0 5px',\r\n            outline: 'teal',\r\n            border: '1px solid teal',\r\n            backgroundColor:\"rgb(3 , 165 , 206)\",\r\n            color: 'white',\r\n            fontWeight: '500',\r\n        },\r\n        \"& a\":{\r\n            color: \"rgb(3 , 165 , 290)\",\r\n            letterSpacing: '1.3px',\r\n            fontWeight: '700',\r\n            marginLeft:\"30px\"\r\n    \r\n\r\n        }\r\n    \r\n    },\r\n    row:{\r\n        display:'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n    }\r\n\r\n\r\n}))","import React,{useState} from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport useStyles from './loginStyles'\r\nimport Axios from 'axios'\r\n\r\nfunction Login() {\r\n    const classes = useStyles()\r\n\r\n    const [user, setUser] = useState({\r\n        email: '', password: ''\r\n    })\r\n  \r\n     const onChangeInput = e =>{\r\n        const {name, value} = e.target;\r\n        setUser({...user, [name]:value})\r\n    }\r\n\r\n    const loginSubmit = async e =>{\r\n        e.preventDefault()\r\n        try{\r\n            const res = await Axios.post('/user/login', {...user})\r\n            // await Axios.post('/user/login', {...user})\r\n            localStorage.setItem('firstLogin',true)\r\n            window.location.href=\"/\"\r\n           console.log(res)\r\n        }catch(err){\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n    return (\r\n        <div className={classes.loginPage}>\r\n            <form  onSubmit={loginSubmit}>\r\n                <div class=\"auth-form__header\">\r\n                    <h3 class=\"auth-form__heading\">Login</h3>\r\n                </div>\r\n                <input type=\"email\" name = \"email\" required placeholder=\"email\" \r\n                value = {user.email} onChange={onChangeInput} />\r\n\r\n                <input type=\"password\" name = \"password\" required placeholder=\"password\" \r\n                autoComplete='on' value = {user.password} onChange={onChangeInput}/>\r\n            \r\n                <div className = {classes.row}>\r\n                    <Link to = '/register'>Register</Link>\r\n                    <button type='submit'>Login</button>\r\n                    \r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React,{useState} from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport useStyles from './loginStyles'\r\nimport Axios from 'axios'\r\n\r\nfunction Register() {\r\n    const classes = useStyles()\r\n\r\n    const [user, setUser] = useState({\r\n        name: '',email: '', password: ''\r\n    })\r\n  \r\n     const onChangeInput = e =>{\r\n        const {name, value} = e.target;\r\n        setUser({...user, [name]:value})\r\n    }\r\n    const registerSubmit = async e =>{\r\n        e.preventDefault()\r\n        try{\r\n            await Axios.post('/user/register', {...user})\r\n            localStorage.setItem('firstLogin',true)\r\n            window.location.href=\"/\"\r\n        }catch(err){\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n    return (\r\n        <div className = {classes.loginPage}>\r\n        <form onSubmit={registerSubmit}>\r\n        <h3 class=\"auth-form__heading\">Đăng ký</h3>\r\n\r\n            <input type=\"text\" name = \"name\" required placeholder=\"Name\" \r\n            value = {user.name} onChange={onChangeInput} />\r\n\r\n            <input type=\"email\" name = \"email\" required placeholder=\"email\" \r\n            value = {user.email} onChange={onChangeInput} />\r\n\r\n            <input type=\"password\" name = \"password\" required placeholder=\"password\" \r\n            autoComplete='on' value = {user.password} onChange={onChangeInput}/>\r\n              <div class=\"auth-form__aside\">\r\n                <p class=\"auth-form__policy-text\">Bằng việc đăng ký, bạn đồng ý với điều khoản dịch vụ và chính sách bảo mật của chúng tôi</p>\r\n                <a href=\"\" class=\"auth-form__link\">Diều khoản dịch vụ và chính sách bảo mật</a>\r\n                            \r\n            </div>\r\n            <div className = {classes.row}>\r\n                <Link to = '/login'>Login</Link>\r\n                <button type='submit'>Register</button>\r\n\r\n            </div>\r\n        </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n    Container:{\r\n        marginTop:'20px',\r\n        width:'60%',\r\n        maxheight: '800px',\r\n        display: 'flex',\r\n        // justifyContent:'space-around',\r\n        // flexWrap:'wrap',\r\n        padding: '50px',\r\n        fontSize: '150%',\r\n        border: 'solid 1px',\r\n        alignItems: 'center',\r\n        borderRadius: '10px',\r\n        margin: 'auto'\r\n    },\r\n    images:{\r\n        maxWidth: \"800px\",\r\n        minWidth: \"300px\",\r\n        maxheight:'500px',\r\n        objectFit:'cover',\r\n        margin: 'auto',\r\n        border: 'solid 1px #ddd',\r\n        display: 'block'\r\n\r\n    },\r\n    box_detail:{\r\n        paddingLeft: '20px',\r\n        marginTop:'20px',\r\n        // maxWidth: '500px',\r\n        justifyContent:'space-between',\r\n        width:\"100%\",\r\n        // border: '1px solid #ddd',\r\n     \r\n      \r\n        \"& h2\":{\r\n            textTransform: 'uppercase',\r\n            color:'darkblue',\r\n            letterSpacing:\"2px\",\r\n            fontWeight: '2rem'\r\n        },\r\n        \"$ p\":{\r\n            lineHeight:'1.5',\r\n            margin: '10px 0',\r\n            opacity:0.8,\r\n        },\r\n      \r\n    },\r\n    row:{\r\n        display:'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n    },\r\n    cart:{\r\n        background:\"#333\",\r\n        color: 'white',\r\n        marginTop: \"10px\",\r\n        padding:'10px 25px',\r\n        display: 'inline-block',\r\n        textTransform: 'uppercase',\r\n        letterSpacing: '2px',\r\n        marginBottom: '30px'\r\n\r\n\r\n    },\r\n    product:{\r\n        width: '100%',\r\n        display: 'grid',\r\n        gridTemplateColumns: 'repeat(auto-fill,minmax(300px,1fr))',\r\n        justifyItems: 'center',\r\n        margin: '0 20px',\r\n    },\r\n    fullImage:{\r\n        // borderTop: '1px solid #ddd',\r\n        \r\n        padding: '20px',\r\n        \r\n        width: '90%',\r\n        height: 'auto',\r\n        \"& img\":{\r\n            width: '100%',\r\n            height: '100%',\r\n        },\r\n        margin:'auto'\r\n    },\r\n    CartItem:{\r\n        width: '500px',\r\n        height: '500px',\r\n        position: 'relative',\r\n        border: '1px solid #ccc',\r\n        transform: 'scaleY(0.98)'\r\n    },\r\n    amount :{\r\n        \"& span\":{\r\n        color: 'crimson',\r\n        padding: '0 20px',\r\n        },\r\n        \"& button\":{\r\n            width: '40px',\r\n            height: '40px',\r\n            border: '1px solid #777',\r\n            borderRadius: '5px'\r\n        },\r\n    },\r\n    delete:{\r\n        // position: 'absolute',\r\n        // top:0,\r\n        right: '5px',\r\n        color: 'crimson',\r\n        fontWeight: 900,\r\n        cursor: 'pointer',\r\n    },\r\n    total:{\r\n        width: '100%',\r\n        height: '50px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        \"& h3\":{\r\n            color: 'crimson'\r\n        }\r\n    }\r\n}))","import React from 'react';\r\nimport PaypalExpressBtn from 'react-paypal-express-checkout';\r\n \r\nexport default class PaypalButton extends React.Component {\r\n    render() {\r\n        const onSuccess = (payment) => {\r\n            \t\tconsole.log(\"The payment was succeeded!\", payment);\r\n                    this.props.tranSuccess(payment)\r\n        }\r\n \r\n        const onCancel = (data) => {\r\n            console.log('The payment was cancelled!', data);\r\n        }\r\n \r\n        const onError = (err) => {\r\n            console.log(\"Error!\", err);\r\n        }\r\n \r\n        let env = 'sandbox'; // you can set here to 'production' for production\r\n        let currency = 'USD'; // or you can set this value from your props or state\r\n        let total = this.props.total; // same as above, this is the total amount (based on currency) to be paid by using Paypal express checkout\r\n        console.log(this.props.total)\r\n        // Document on Paypal's currency code: https://developer.paypal.com/docs/classic/api/currency_codes/\r\n \r\n        const client = {\r\n            sandbox:    'Af8RP6ZxltiziBNqprmwaWfBDAhRpoyeSE4qFO_aEQBnne2SzRSUyDplhSFKowzZSPaqaf5ZLacSgPht',\r\n            production: 'YOUR-PRODUCTION-APP-ID',\r\n        }\r\n \r\n        let style = {\r\n            size: 'small',\r\n            color: 'blue',\r\n            shape: 'rect',\r\n            label: 'checkout',\r\n            tagline: false\r\n        }\r\n\r\n        return (\r\n            <PaypalExpressBtn \r\n            env={env} client={client} \r\n            currency={currency} \r\n            total={total} onError={onError} \r\n            onSuccess={onSuccess} onCancel={onCancel}\r\n            style={style} />\r\n        );\r\n    }\r\n}\r\n\r\n","import React, {useContext, useState, useEffect} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport useStyles from './styles'\r\n\r\nimport Axios from 'axios'\r\nimport PayPal from './PaypalButton'\r\n\r\nfunction Cart() {\r\n    const state = useContext(GlobalState)\r\n    const [cart, setCart] = state.userAPI.cart\r\n    const classes = useStyles()\r\n    const [total, setTotal] = useState(0)\r\n    const [token] = state.token\r\n\r\n    useEffect(() =>{\r\n        const getTotal = () =>{\r\n            const total = cart.reduce((prev, item) => {\r\n                return prev + (item.price * item.quantity)\r\n            },0)\r\n\r\n            setTotal(total)\r\n        }\r\n\r\n        getTotal()\r\n\r\n    },[cart])\r\n\r\n    if(cart.length === 0) return <h2 style={{textAlign: \"center\", fontSize: \"5rem\"}}>Cart Empty</h2> \r\n    \r\n\r\n    const addToCart = async (cart) =>{\r\n        await Axios.patch('/user/addcart', {cart}, {\r\n            headers: {Authorization: token}\r\n        })\r\n    }\r\n\r\n\r\n    const increment = (id) =>{\r\n        cart.forEach(item => {\r\n            if(item._id === id){\r\n                item.quantity += 1\r\n            }\r\n        })\r\n\r\n        setCart([...cart])\r\n        addToCart(cart)\r\n    }\r\n\r\n\r\n    const decrement = (id) =>{\r\n        cart.forEach(item => {\r\n            if(item._id === id){\r\n                item.quantity === 1 ? item.quantity = 1 : item.quantity -= 1\r\n            }\r\n        })\r\n\r\n        setCart([...cart])\r\n        addToCart(cart)\r\n    }\r\n\r\n      const removeProduct = id =>{\r\n        if(window.confirm(\"Do you want to delete this product?\")){\r\n            cart.forEach((item, index) => {\r\n                if(item._id === id){\r\n                    cart.splice(index, 1)\r\n                }\r\n            })\r\n\r\n            setCart([...cart])\r\n            addToCart(cart)\r\n        }\r\n    }\r\n    const tranSuccess = async(payment) => {\r\n        const {paymentID, address} = payment;\r\n\r\n        await Axios.post('/api/payment', {cart, paymentID, address}, {\r\n            headers: {Authorization: token}\r\n        })\r\n\r\n        setCart([])\r\n        addToCart([])\r\n        alert(\"You have successfully placed an order.\")\r\n    }\r\n\r\n    return (\r\n            <>\r\n                {\r\n                cart.map(product => (\r\n                    <div key={product._id} className={classes.Container}>\r\n                        <img className={classes.images} src={product.images.url} alt = \"\" />\r\n                        <div className = {classes.box_detail}>\r\n                            <div className = {classes.row}>\r\n                                <h2>{product.title}</h2>\r\n                            </div>\r\n                            <span>$ {product.price * product.quantity}</span>\r\n                            <p>{product.description}</p>\r\n                            <p>{product.content}</p>\r\n                            <p>sold: {product.sold}</p>\r\n                            <div className={classes.amount}>\r\n                                <button onClick={() => decrement(product._id)}> - </button>\r\n                                <span>{product.quantity}</span>\r\n                                <button onClick={() => increment(product._id)}> + </button>\r\n                                \r\n                                <div className={classes.delete} onClick={() => removeProduct(product._id)} >X</div>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                \r\n                ))\r\n                }\r\n                <div className = {classes.total}>\r\n                    <h3> Total: {total} </h3>\r\n                    <PayPal  \r\n                    total={total}\r\n                    tranSuccess={tranSuccess}\r\n\r\n                />\r\n                </div>\r\n            </>\r\n    )\r\n}\r\n\r\nexport default Cart\r\n","import React from 'react'\r\n\r\nfunction NotFound() {\r\n    return (\r\n        <div>\r\n            404 | Not Found\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n    history_page:{ \r\n        overflowX: 'auto',\r\n        \"& h2\":{\r\n            textAlign:'center',\r\n            margin: '20px',\r\n            textTransform: 'uppercase',\r\n            letterSpacing: '1.2px'\r\n    \r\n        },  \r\n        \"& h4\":{\r\n            textAlign:'center',\r\n            margin: '20px',\r\n            textTransform: 'uppercase',\r\n            letterSpacing: '1.2px'\r\n           \r\n        },\r\n        \"& table\":{\r\n            margin: 'auto',\r\n            width:'100%'\r\n        },\r\n        \"& th\":{\r\n            border: '1px solid #ddd',\r\n            borderCollapse: 'collapse',\r\n            textAlign: 'center',\r\n            padding: '10px',\r\n        },  \r\n        \"& tr\":{\r\n            border: '1px solid #ddd',\r\n            borderCollapse: 'collapse'\r\n        }, \r\n         \"& td\":{\r\n            border: '1px solid #ddd',\r\n            borderCollapse: 'collapse',\r\n            textAlign: 'center',\r\n            padding: '10px',\r\n        },\r\n        \"& a\":{\r\n            color: 'teal'\r\n        }\r\n\r\n\r\n    },\r\n   \r\n\r\n}))","import React, {useContext, useEffect} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport useStyles from './styles'\r\n\r\nfunction OrderHistory() {\r\n    const state = useContext(GlobalState)\r\n    const [history, setHistory] = state.userAPI.history\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [token] = state.token\r\n    const classes = useStyles()\r\n\r\n    useEffect(() => {\r\n        if(token){\r\n            const getHistory = async() =>{\r\n                if(isAdmin){\r\n                    const res = await axios.get('/api/payment', {\r\n                        headers: {Authorization: token}\r\n                    })\r\n                    setHistory(res.data)\r\n                }else{\r\n                    const res = await axios.get('/user/history', {\r\n                        headers: {Authorization: token}\r\n                    })\r\n                    setHistory(res.data)\r\n                }\r\n            }\r\n            getHistory()\r\n        }\r\n    },[token, isAdmin, setHistory])\r\n\r\n    return (\r\n\r\n        <div className={classes.history_page}>\r\n            <h2>History</h2>\r\n\r\n            <h4>You have {history.length} ordered</h4>\r\n\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Payment ID</th>\r\n                        <th>Date of Purchased</th>\r\n                        <th></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        history.map(items => (\r\n                            <tr key={items._id}>\r\n                                <td>{items.paymentID}</td>\r\n                                <td>{new Date(items.createdAt).toLocaleDateString()}</td>\r\n                                <td><Link to={`/history/${items._id}`}>View</Link></td>\r\n                            </tr>\r\n                        ))\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderHistory","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n    row:{\r\n        display:'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        minWidth: '290px',\r\n        padding: '10px',\r\n        marginBottom: '10px',\r\n        border: '1px solid #ccc',\r\n    },\r\n\r\n    categories:{\r\n        maxWidth: '700px',\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        margin: '30px auto',\r\n         \"& form\":{\r\n            width: '290px',\r\n            marginBottom: '20px',\r\n        },\r\n        \"& label\":{\r\n            display: 'block',\r\n            fontWeight: 700,\r\n            letterSpacing: '2px',\r\n            textTransform: 'uppercase',\r\n            marginBottom: '10px',\r\n        },\r\n        \"& input\":{\r\n            height: '35px',\r\n            border: 'none',\r\n            outline: 'none',\r\n            borderBottom: '1px solid #555',\r\n            width: '210px',\r\n\r\n            \r\n        }\r\n        , \"& button\":{\r\n            height: '35px',\r\n            border: 'none',\r\n            outline: 'none',\r\n            borderBottom: '1px solid #555',\r\n            width: '70px',\r\n            background: '#555',\r\n            color: 'white',\r\n            marginLeft: '10px',\r\n        },\r\n    },\r\n   \r\n\r\n\r\n\r\n   \r\n\r\n}))","import React, {useState, useContext} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport Axios from 'axios'\r\nimport useStyles from './styles'\r\nfunction Categories() {\r\n    const state = useContext(GlobalState)\r\n    const classes = useStyles()\r\n    const [categories] = state.categoriesAPI.categories\r\n    const [category, setCategory] = useState('')\r\n    const [token] = state.token\r\n    const [callback, setCallback] = state.categoriesAPI.callback\r\n    const [onEdit, setOnEdit] = useState(false)\r\n    const [id, setID] = useState('')\r\n\r\n    const createCategory = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            if(onEdit){\r\n                const res = await Axios.put(`/api/category/${id}`, {name: category}, {\r\n                    headers: {Authorization: token}\r\n                })\r\n                alert(res.data.msg)\r\n            }else{\r\n                const res = await Axios.post('/api/category', {name: category}, {\r\n                    headers: {Authorization: token}\r\n                })\r\n                alert(res.data.msg)\r\n            }\r\n            setOnEdit(false)\r\n            setCategory('')\r\n            setCallback(!callback)\r\n            \r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const editCategory = async (id, name) =>{\r\n        setID(id)\r\n        setCategory(name)\r\n        setOnEdit(true)\r\n    }\r\n\r\n    const deleteCategory = async id =>{\r\n        try {\r\n            const res = await Axios.delete(`/api/category/${id}`, {\r\n                headers: {Authorization: token}\r\n            })\r\n            alert(res.data.msg)\r\n            setCallback(!callback)\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.categories}>\r\n            <form onSubmit={createCategory}>\r\n           \r\n\r\n                <label htmlFor=\"category\">Category</label>\r\n                <input type=\"text\" name=\"category\" value={category} required\r\n                onChange={e => setCategory(e.target.value)} />\r\n\r\n                <button type=\"submit\">{onEdit? \"Update\" : \"Create\"}</button>\r\n            </form>\r\n\r\n            <div className={classes.col}>\r\n                {\r\n                    categories.map(category => (\r\n                        <div className={classes.row} key={category._id}>\r\n                            <p>{category.name}</p>\r\n                            <div>\r\n                                <button onClick={() => editCategory(category._id, category.name)}>Edit</button>\r\n                                <button onClick={() => deleteCategory(category._id)}>Delete</button>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Categories","import React, {useState, useContext, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport Loading from '../utilts/loading/loading'\r\nimport {useHistory, useParams} from 'react-router-dom'\r\n\r\nconst initialState = {\r\n    product_id: '',\r\n    title: '',\r\n    price: 0,\r\n    description: 'Description of picture',\r\n    content: 'Content of picture',\r\n    category: '',\r\n    _id: ''\r\n}\r\n\r\nfunction CreateProduct() {\r\n    const state = useContext(GlobalState)\r\n    const [product, setProduct] = useState(initialState)\r\n    const [categories] = state.categoriesAPI.categories\r\n    const [images, setImages] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n\r\n\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [token] = state.token\r\n\r\n    const history = useHistory()\r\n    const param = useParams()\r\n\r\n    const [products] = state.productsAPI.products\r\n    const [onEdit, setOnEdit] = useState(false)\r\n    const [callback, setCallback] = state.productsAPI.callback\r\n\r\n    useEffect(() => {\r\n        if(param.id){\r\n            setOnEdit(true)\r\n            products.forEach(product => {\r\n                if(product._id === param.id) {\r\n                    setProduct(product)\r\n                    setImages(product.images)\r\n                }\r\n            })\r\n        }else{\r\n            setOnEdit(false)\r\n            setProduct(initialState)\r\n            setImages(false)\r\n        }\r\n    }, [param.id, products])\r\n\r\n    const handleUpload = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            if(!isAdmin) return alert(\"You're not an admin\")\r\n            const file = e.target.files[0]\r\n            \r\n            if(!file) return alert(\"File not exist.\")\r\n\r\n            if(file.size > 1024 * 1024) // 1mb\r\n                return alert(\"Size too large!\")\r\n\r\n            if(file.type !== 'image/jpeg' && file.type !== 'image/png') // 1mb\r\n                return alert(\"File format is incorrect.\")\r\n\r\n            let formData = new FormData()\r\n            formData.append('file', file)\r\n\r\n            setLoading(true)\r\n            const res = await axios.post('/api/upload', formData, {\r\n                headers: {'content-type': 'multipart/form-data', Authorization: token}\r\n            })\r\n            setLoading(false)\r\n            setImages(res.data)\r\n\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const handleDestroy = async () => {\r\n        try {\r\n            if(!isAdmin) return alert(\"You're not an admin\")\r\n            setLoading(true)\r\n            await axios.post('/api/destroy', {public_id: images.public_id}, {\r\n                headers: {Authorization: token}\r\n            })\r\n            setLoading(false)\r\n            setImages(false)\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const handleChangeInput = e =>{\r\n        const {name, value} = e.target\r\n        setProduct({...product, [name]:value})\r\n    }\r\n\r\n    const handleSubmit = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            if(!isAdmin) return alert(\"You're not an admin\")\r\n            if(!images) return alert(\"No Image Upload\")\r\n\r\n            if(onEdit){\r\n                await axios.put(`/api/products/${product._id}`, {...product, images}, {\r\n                    headers: {Authorization: token}\r\n                })\r\n            }else{\r\n                await axios.post('/api/products', {...product, images}, {\r\n                    headers: {Authorization: token}\r\n                })\r\n            }\r\n            setCallback(!callback)\r\n            alert('Create success')\r\n            history.push(\"/\")\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const styleUpload = {\r\n        display: images ? \"block\" : \"none\"\r\n    }\r\n    return (\r\n        <div className=\"create_product\">\r\n            <div className=\"upload\">\r\n                <input type=\"file\" name=\"file\" id=\"file_up\" onChange={handleUpload}/>\r\n                {\r\n                    loading ? <div id=\"file_img\"><Loading /></div>\r\n\r\n                    :<div id=\"file_img\" style={styleUpload}>\r\n                        <img src={images ? images.url : ''} alt=\"\"/>\r\n                        <span onClick={handleDestroy}>X</span>\r\n                    </div>\r\n                }\r\n                \r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"product_id\">Product ID</label>\r\n                    <input type=\"text\" name=\"product_id\" id=\"product_id\" required\r\n                    value={product.product_id} onChange={handleChangeInput} disabled={onEdit} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"title\">Title</label>\r\n                    <input type=\"text\" name=\"title\" id=\"title\" required\r\n                    value={product.title} onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"price\">Price</label>\r\n                    <input type=\"number\" name=\"price\" id=\"price\" required\r\n                    value={product.price} onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"description\">Description</label>\r\n                    <textarea type=\"text\" name=\"description\" id=\"description\" required\r\n                    value={product.description} rows=\"5\" onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"content\">Content</label>\r\n                    <textarea type=\"text\" name=\"content\" id=\"content\" required\r\n                    value={product.content} rows=\"7\" onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"categories\">Categories: </label>\r\n                    <select name=\"category\" value={product.category} onChange={handleChangeInput} >\r\n                        <option value=\"\">Please select a category</option>\r\n                        {\r\n                            categories.map(category => (\r\n                                <option value={category._id} key={category._id}>\r\n                                    {category.name}\r\n                                </option>\r\n                            ))\r\n                        }\r\n                    </select>\r\n                </div>\r\n\r\n                <button type=\"submit\">{onEdit? \"Update\" : \"Create\"}</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateProduct","import React, {useContext, useEffect} from 'react'\r\nimport {Switch, Route} from 'react-router-dom'\r\nimport Products from './products/Products'\r\nimport DetailProduct from './products/detailProduct/DetailProduct'\r\nimport Login from './auth/Login'\r\nimport Register from './auth/Register'\r\nimport Cart from './cart/Cart'\r\nimport NotFound from './utilts/not_found/NotFound'\r\nimport Loading from './utilts/loading/loading'\r\n\r\nimport { GlobalState } from '../../GlobalState';\r\nimport OrderHistory from './history/OrderHistory'\r\nimport Categories from './categories/Categories'\r\nimport CreateProduct from './createProduct/CreateProduct'\r\n\r\n\r\nfunction Page () {\r\n\r\n    const state = useContext(GlobalState)\r\n    const [isLogged] = state.userAPI.isLogged\r\n    const [isAdmin ] = state.userAPI.isAdmin\r\n\r\n \r\n    return (\r\n        <Switch>\r\n           <Route path = '/' exact component = {Products}/>\r\n           <Route path = '/detail/:id' exact component = {DetailProduct}/>\r\n           <Route path = '/login' exact component = {isLogged? NotFound: Login}/>\r\n           <Route path = '/register' exact component = {isLogged? NotFound: Register}/>\r\n           <Route path = '/cart' exact component = {Cart}/>\r\n           <Route path = '/history' exact component = {isLogged? OrderHistory: NotFound }/>\r\n           <Route path = '/category' exact component = {isAdmin? Categories: NotFound }/>\r\n           <Route path = '/create_product' exact component = {isAdmin? CreateProduct: NotFound }/>\r\n           <Route path = '/edit_product/:id' exact component = {isAdmin? CreateProduct: NotFound }/>\r\n        \r\n           <Route path = '/loading' exact component = {Loading}/>\r\n\r\n           <Route path = '*' exact component = {NotFound}/>\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default Page\r\n","import React from 'react'\r\n\r\nfunction Footer() {\r\n    return (\r\n        <div className=\"footer\">\r\n            <div className='footerContainer'>\r\n                    <div className=\"footer_introduce\">\r\n                    <h5 className=\"contact_name\">Giới thiệu</h5>\r\n                    <div className=\"introduce-text\">\r\n                        Tranh Của Jelly is a personal web that show and sell pictures and DIY of Jelly\r\n                    </div>\r\n                </div>\r\n                <div className=\"footer_contact\">\r\n                        <div className=\"footer_contact__link\">\r\n                            <div className=\"footer_contact__link_item\">\r\n                                <h5 className=\"contact_name\">Liên Kết</h5>\r\n                                <ul>\r\n                                    <li>Trang Chủ</li>\r\n                                    <li>Đăng ký</li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"footer_contact__help\">\r\n                            <h5 className=\"contact_name\">Trợ Giúp</h5>\r\n                            <ul>\r\n                                <li className =\"contact_name_item\">Báo lỗi</li>\r\n                                <li className =\"contact_name_item\">Bảo mật</li>\r\n                                <li className =\"contact_name_item\">Điều lệ</li>\r\n                                <li className =\"contact_name_item\">Liên hệ</li>\r\n                            </ul>\r\n                        </div>\r\n                        <div className=\"footer_contact__contact\">\r\n                            <h5 className=\"contact_name\">Liên hệ</h5>\r\n                            <ul><li>Email: Onehitkillall@gmail.com</li></ul>\r\n                        </div>\r\n                </div>\r\n            </div>\r\n       </div>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import React from \"react\";\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport { DataProvider } from \"./GlobalState\";\nimport Header from \"./components/Header/Header\";\nimport MainPages from './components/mainPages/Page'\nimport './index.css'\nimport Footer from \"./components/Footer/Footer\";\nfunction App() {\n  return (\n    <DataProvider>\n    <Router>\n      <div className=\"App\">\n        <Header />\n        <div className=\"Container\"><MainPages  /></div>\n        <Footer/>\n      </div>\n    </Router>\n  </DataProvider>\n   \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />,document.getElementById('root'));\n\n\n"],"sourceRoot":""}